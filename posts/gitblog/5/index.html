<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>깃허브 블로그 댓글 구현 : Utterances 도입기 | 봄을 기다리는 낙엽</title>
<meta name=keywords content="comment,utterances,blog"><meta name=description content="블로그 댓글을 구현할 수 있는 utterances를 적용합니다."><meta name=author content="Leaf"><link rel=canonical href=https://leaf-nam.github.io/posts/gitblog/5/><meta name=google-site-verification content="l76eAEMadEn1QzS8fLTbrl8ppayZprvV3uuAbMGSy_c"><meta name=msvalidate.01 content="XYZabc"><meta name=naver-site-verification content="adff811404d441495a954e30579f40297ba14f5e"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://leaf-nam.github.io/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://leaf-nam.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://leaf-nam.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://leaf-nam.github.io/apple-touch-icon.png><link rel=mask-icon href=https://leaf-nam.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://leaf-nam.github.io/posts/gitblog/5/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-9PNFP00SSG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9PNFP00SSG")}</script><meta property="og:url" content="https://leaf-nam.github.io/posts/gitblog/5/"><meta property="og:site_name" content="봄을 기다리는 낙엽"><meta property="og:title" content="깃허브 블로그 댓글 구현 : Utterances 도입기"><meta property="og:description" content="블로그 댓글을 구현할 수 있는 utterances를 적용합니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-05T19:08:20+09:00"><meta property="article:modified_time" content="2024-03-05T19:08:20+09:00"><meta property="article:tag" content="Comment"><meta property="article:tag" content="Utterances"><meta property="article:tag" content="Blog"><meta property="og:image" content="https://leaf-nam.github.io/cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://leaf-nam.github.io/cover.png"><meta name=twitter:title content="깃허브 블로그 댓글 구현 : Utterances 도입기"><meta name=twitter:description content="블로그 댓글을 구현할 수 있는 utterances를 적용합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://leaf-nam.github.io/posts/"},{"@type":"ListItem","position":2,"name":"좌충우돌 깃허브 블로그 생성기","item":"https://leaf-nam.github.io/posts/gitblog/"},{"@type":"ListItem","position":3,"name":"깃허브 블로그 댓글 구현 : Utterances 도입기","item":"https://leaf-nam.github.io/posts/gitblog/5/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"깃허브 블로그 댓글 구현 : Utterances 도입기","name":"깃허브 블로그 댓글 구현 : Utterances 도입기","description":"블로그 댓글을 구현할 수 있는 utterances를 적용합니다.","keywords":["comment","utterances","blog"],"articleBody":"도입 이전 포스팅 참조 : 개발 블로그의 종류와 선택 \u003e SSG에 대하여 \u003e HUGO 기본 설치 및 사용법 \u003e Git 연동과 정적 페이지 배포\n저번 포스팅까지 블로그를 만들어봤는데요, 댓글이 없으니 뭔가 허전한 느낌입니다. 원래 블로그는 다른 사람과의 소통을 위함이니까요.\n이번 시간에는 블로그 댓글을 생성하는 라이브러리들을 비교해보고, 그중 utterances를 직접 블로그에 적용해 보겠습니다.\n저도 처음에는 어떻게 댓글을 구현할까 하다가, 직접 기능을 만들어보려고도 생각했었습니다. 하지만, 그럼 로그인 기능이나 댓글을 저장하는 DB도 만들어야 하는데 블로그 만드는 것보다 더 많은 노력이 필요할 것 같았습니다. 여기저기 찾아보니 댓글을 구현해주는 다양한 라이브러리가 있어 다행히 쉽게 적용할 수 있었습니다.\n블로그 댓글 구현방법 비교 블로그 종류가 다양한 만큼, 블로그 댓글을 구현하는 방법도 다양합니다.\n그럼 댓글 구현방법에 대한 각각의 장단점을 알아보겠습니다.\nDisqus Disqus는 댓글을 쉽게 구현하도록 도와주는 프레임워크입니다. Disqus 내부에 서버가 있어 댓글을 작성하면 해당 서버에 댓글을 작성하고 불러오는 방식으로 구현됩니다.\n또한, Hugo에서 공식적으로 지원하는 댓글 기능이기도 합니다.1\nHugo 문서에 나와있는 것처럼 config에 Disqus 이름(shortname)을 작성하면 쉽게 연동이 가능합니다.\nservices: disqus: shortname: your-disqus-shortname 장점\nHugo에서 기본으로 지원하는 기능인 만큼 연동성이 좋습니다. 다른 사이트에 남긴 댓글들을 모아서 한번에 조회가 가능하며, 댓글 추이나 통계에 대한 분석도 제공합니다.2 사용자가 많고 특히 해외에서는 해당 서비스 사용자가 많은 것 같습니다. 단점\n댓글을 남기기 위해서는 사용자가 해당 서비스에 가입해야 합니다. 현재까지 유효한 정책인지는 모르겠지만, 과거에는 2년 이상 사용 시 과금을 했다고 합니다. 서비스 기업이다 보니 차후에 요금정책이 변경될 가능성도 있을 것 같습니다. 마찬가지로 해당 서비스가 종료되면 댓글도 사라질 위험이 있습니다. 저는 다른것보다 사용자가 새로운 회원가입을 해야 하는 부분에 불편함이 있을 것 같아 다른 옵션을 찾아보게 되었습니다.\nCommento Commento는 가벼움과 프라이버시에 초점을 맞춘 댓글 플랫폼입니다. Commento 또한 해외에서 많이 사용하는 옵션 중 하나입니다. Commento와 Disqus 사이에 고민하는 포스팅을 많이 볼 수 있었습니다.3\n장점\n프라이버시를 보장하기 위한 익명 댓글 기능이 있습니다. 클라우드 서버나 사용자 DB에 연결되어 댓글이 저장되기 때문에 유실 걱정이 없습니다. 제 기준에서는 UI나 디자인이 제일 깔끔한 것 같습니다. Comment Demo 페이지, 이미지를 누르면 해당 데모 페이지로 이동합니다.\n단점\n클라우드 서비스 사용시 요금 정책이 있습니다. 현재 날짜 기준 월 10$, 연 99$입니다. 클라우드 서비스나 DB에 등록하는 과정이 조금 복잡합니다. 도메인별로 클라우드 서버를 설정하기 때문에 댓글 공유는 되지 않습니다. 요금은 클라우드 서비스를 사용하기 위해 어쩔 수 없이 내야하는 부분인 것 같고, 직접 DB를 구현하면 무료라고 합니다. 저는 차후 블로그 유저가 많아지거나, utterances가 불편한 점이 생기면 commento를 도입해볼 생각도 있습니다.\nUtterances 제 블로그에 도입해서 사용하고 있는 Utterances 입니다.\n작동 원리는 깃허브 issue에 댓글을 남기고 트래킹하는 방식으로 구현이 되어있습니다.\n정말 똑똑한 사람들이 많습니다. 여담이지만 utteranc.es라는 url 정말 잘 만든 것 같습니다.\n코드 한 줄만 추가하면 바로 사용할 수 있어 가볍고 깃허브 아이디만 있으면 쉽게 댓글을 달 수 있습니다.\n장점\n방문자도 깃허브 계정만 있으면 댓글을 남기는 것이 가능합니다. script 기반으로 설치 및 구현이 쉽습니다. 깃허브 이슈와 연동되기 때문에 별도의 저장공간이 불필요합니다. 단점\n이슈번호와 연결이 잘못되면 다른 글에 남긴 댓글이 보이는 등 이상현상이 발생한다고 하네요.(아직 댓글이 없어서 직접 확인은 못했습니다.) 깃허브가 없는 일반 사용자는 댓글을 남길 수 없습니다. css를 설정하지 못하고 정해진 테마(9개) 중 선택해야 합니다.(css 테마가 필요하면 직접 구현해서 오픈소스에 기여해달라고 하네요..) 어차피 깃허브 블로그인 이상 제 블로그의 생명주기는 깃허브와 같아졌으므로, utterances가 가장 합리적인 선택으로 보였습니다. 사용해보고 문제가 있다면 다른 댓글 플랫폼도 사용해보고 싶네요.\nUtterances 설치방법 설치를 시작하기에 앞서 Utterances에서 댓글이 구현되는 원리를 간단히 알아보자면 다음과 같습니다.\nUtterances Bot이 깃허브 앱에 등록이 되고, 사용자가 작성한 스크립트로 페이지에 불러와집니다. 해당 스트립트에 표기된 깃허브 레포지토리에서 현재 페이지에 맞는 댓글을 불러옵니다. 댓글 작성버튼을 누르면 레포지토리에 현재 페이지의 정보와 함께 댓글을 저장합니다. 심플하면서도 깃허브 페이지에 아주 효과적인 전략인 것 같습니다. 그럼 이제 본격적으로 Utterances를 설치해보겠습니다.\nUtterances 기본설정 먼저 Utterances 홈페이지에 들어가서 설정을 해야 합니다. 해당 페이지에 들어가시면 configuration탭이 있는데, 딱 4가지 설정만 하시면 됩니다.\n레포지토리 입력(필수)\n먼저 해당 댓글을 사용할 레포지토리를 입력합니다. 본인의 블로그 레포지토리가 될 수도 있고, 별도의 댓글만 저장하기 위한 전용 레포지토리를 생성하셔도 좋습니다.\n저는 정적 페이지를 위한 레포지토리를 분리해두었기 때문에 해당 레포지토리를 그대로 사용했습니다.\n[1] 레포지토리를 입력합니다.\n이슈 매핑방법(필수)\nUtterances Bot이 깃허브 이슈에 댓글을 저장하고, 불러오기 위해서는 해당 이슈가 어떤 포스트에 해당하는지를 알아야 합니다.\n이를 위해 깃허브 이슈와 댓글을 어떻게 매핑할지 6가지 전략을 선택할 수 있습니다.\n실제로 Utterances로 댓글을 남기면 해당 전략에 따라 레포지토리 이슈에 저장이 되므로 본인이 관리하기 편한 방식을 선택하시는게 좋습니다.\npathname : 현재 페이지의 url 중 경로명을 기반으로 댓글을 저장 및 탐색합니다. 처음에 해당 방식을 사용했는데, 경로명에 한글이 포함되어있으면 utf-8로 인코딩 된 경로가 나오게 되어 나중에 알아보기가 힘들어 title로 변경했습니다.\nURL : url을 기반으로 댓글을 저장 및 탐색합니다. pathname과 다르게 전체 url경로를 모두 사용합니다.\ntitle : 포스팅 제목을 기반으로 댓글을 저장 및 탐색합니다.\nog:title : Open Graph4의 메타 필드를 참조해서 댓글을 저장 및 탐색합니다.\nissue number : 이슈번호를 특정할 수 있습니다. 이슈가 자동생성되지 않아 미리 이슈를 만들어 두고 직접 연결해야 합니다.\nspecific term : 이슈를 탐색할 때 설정한 특정 키워드를 포함하는지 확인합니다. 5번과 유사하지만 처음 댓글을 달면 해당 키워드를 포함하여 자동으로 이슈를 생성해줍니다.\n[2] 매핑전략을 선택합니다.\n이슈 라벨 설정(선택)\n필수는 아니지만 이슈 앞에 부착할 라벨을 설정할 수 있습니다. 만약 이슈와 댓글을 동시에 사용하는 페이지가 있다면 이를 구분할 때 편리할 듯 합니다.\n💬 와 같은 이모지도 넣을 수 있다고 하네요.\n[3] 이슈 라벨을 선택합니다.\n테마 설정(필수) 마지막으로 테마(댓글 템플릿)를 설정해야 합니다. utteranc.es 페이지에서 테마를 선택하면 자동으로 해당 테마에 맞게 페이지가 변경되니, 해당 페이지를 보고 본인의 블로그와 맞는 페이지를 선택하시면 될 것 같습니다.\n[4] 이슈 테마를 선택합니다.\n이제 Utterances 설정이 끝났습니다. 모든 설정을 마치면 다음과 같이 스크립트를 복사할 수 있습니다.\n스크립트 태그를 복사합니다.\nHugo 템플릿 설정 모든 설정이 끝났다면, 해당 설정정보를 블로그로 불러와야 합니다. 저는 Hugo를 사용하고 있기 때문에 Hugo에서 설정하는 방법을 설명드리겠습니다.\n다른 정적 페이지를 사용하신다면 해당 페이지의 html 중 댓글이 필요한 위치에 script를 불러오시면 됩니다.\nHugo에서 댓글을 적용하시려면 우선 Hugo가 어떻게 페이지를 렌더링하는지 이해해야 합니다.5 위 주석을 참고하시면 Hugo의 페이지 렌더링 순서는 다음과 같습니다.\n사용자가 설정한 특정 레이아웃 사용자가 설정한 기본 레이아웃 테마에 설정된 특정 레이아웃 테마에 설정된 기본 레이아웃 저는 PaperMod라는 테마를 사용하고 있습니다. 따라서 댓글을 화면에 표시하기 위해서는 제가 직접 레이아웃 폴더를 생성해서 PaperMod의 Comment 레이아웃(comments.html)을 Override6해주어야 합니다.\n따라서 다음과 같이 새로운 폴더와 comments.html 파일을 생성합니다.\n... ├── README.md ├── archetypes ├── config │ └── _default │ └── hugo.yaml ├── content ├── layouts # layouts 디렉터리를 생성합니다. │ └── partials # partials 디렉터리를 생성합니다. │ └── comments.html # comments.html을 생성하고, 내부에 아래 주석 내용을 붙여넣기합니다. ├── public ├── resources └── themes └── PaperMod # [붙여넣기] comments.html : PaperMod에서 제공하는 기본 템플릿입니다. {{- /* Comments area start */ -}} {{- /* to add comments read =\u003e https://gohugo.io/content-management/comments/ */ -}} {{- /* Comments area end */ -}} 위에서 생성한 comments.html 파일 내부에 아까 생성했던 utterances script 태그를 복사하면 완료입니다.\n{{- /* Comments area start */ -}} # utterances script를 여기에 붙여넣습니다. {{- /* Comments area end */ -}} 다른 Hugo 테마를 사용하신다면, 테마 폴더 내부의 layouts를 찾아보시면 Comments가 구현되어 있으실텐데 해당 파일을 가져오시면 됩니다.\n테마에 Comments가 구현되어 있지 않다면 Hugo 사이트를 참고해서 직접 레이아웃을 구현하셔야 합니다.\nGithub App 등록 Utterances가 레포지토리의 이슈에 접근하려면 깃허브 앱으로 등록해야 합니다. Utterances App 페이지에서 설치가 가능합니다.\n참고로 아래 사진과 같이 댓글을 저장할 레포지토리만 등록하시면 잘 작동합니다.\n필요한 레포지토리만 등록하시면 됩니다.\nCanonical Path 설정 처음 Utterances를 적용하시면 아마 다음 페이지와 같이 로그인하라는 창이 나오실겁니다.\n로그인이 필요합니다.\n로그인 과정은 다음과 같습니다.\n로그인 버튼을 클릭하면 현재 페이지에서 Github의 OAuth 서비스 페이지로 이동합니다. 인증이 완료되면 Github에서 인증 토큰을 발급합니다. Utterances Bot이 해당 토큰을 통해 아까 설정한 레포지토리로 접근합니다. 레포지토리에 접근이 가능해지면 현재 페이지와 레포지토리를 연결한 후, 현재 페이지로 복귀합니다. 이 과정에서 Utterances Bot은 Canonical Path7를 통해 현재 페이지를 인식하게 됩니다.\n그러나 Canonical Path가 제대로 설정되어 있지 않다면, Utterance Bot이 해당 페이지를 인식하지 못합니다. 따라서 Canonical Path를 올바르게 설정해서 Utterance Bot이 다시 해당 페이지로 찾아올 수 있도록 합니다.\n이러한 Canonical Path는 head에 링크 태그로 생성됩니다.\nCanonical Path를 설정하는 방법은 테마마다 달라서 저는 PaperMod 테마 기준으로 설명드리겠습니다.\nPaperMod 테마의 layouts \u003e partials \u003e head.html 템플릿을 확인해보면 다음과 같이 canonical path가 생성됨을 알 수 있습니다.\n// CanonicalURL이 있으면 그걸로 생성, 아니면 Permalink로 생성 \u003clink rel=\"canonical\" href=\"{{ if .Params.canonicalURL -}} {{ trim .Params.canonicalURL \" \" }} {{- else -}} {{ .Permalink }} {{- end }}\"\u003e 따라서 hugo 설정파일 내부에 Params.canonicalURL 설정이 있다면 해당 설정을 통해 canonicalURL을 생성하고, 그렇지 않으면 Permalink8를 따라간다는 것을 알 수 있습니다.\nPermalink는 설정파일의 BaseURL에 현재 콘텐츠의 경로를 붙여서 생성됩니다.\n{{ with resources.Get \"images/a.jpg\" }} {{ .Permalink }} → https://example.org/images/a.jpg {{ end }} 콘텐츠 경로는 hugo가 빌드하는 과정에서 잘 세팅이 되기 때문에 BaseURL만 해당 블로그의 기본주소로 잘 설정하면 정확한 canonicalURL을 얻을 수 있습니다.\n따라서 기본 설정파일(hugo.yaml or hugo.toml or config.yaml)의 BaseURL을 현재 블로그 페이지의 기본주소로 잘 설정해주어야 합니다.\n# hugo.toml 혹은 hugo.yaml baseURL: \"https://{github계정명}.github.io/\" # yaml 형식일 경우 baseURL = 'https://{github계정명}.github.io/' # toml 형식일 경우 여기까지 설정하셨으면 Github OAuth를 통해 로그인이 잘 되실겁니다.\n결론 오늘은 깃허브 블로그 댓글을 구현하는 다양한 방법에 대해 알아보고, 그 중 Utterances를 통해 직접 구현해보았습니다. 다들 본인만의 블로그를 만드시는데 조금이나마 도움이 되었으면 좋겠습니다.\n앞으로도 Hugo 블로그에 관련한 다양한 세팅에 대해 다뤄볼 예정이니 필요하거나 궁금한 부분이 있으시다면 알려주세요.\n블로그 글이 너무 길어져버렸네요. 앞으로는 배경 설명과 직접 구현하는 포스팅을 잘 분리해야 할 것 같습니다..\nReferences URL 게시일자 방문일자 작성자 https://gohugo.io/ 미등록 2024.03.07. Hugo Authors https://disqus.com/ 미등록 2024.03.07. 2024 Disqus https://docs.commento.io/ 미등록 2024.03.07. Commento https://utteranc.es/ 미등록 2024.03.07. Utterances https://stackshare.io/stackups/commento-vs-disqus 미등록 2024.03.07. Stackshare Hugo의 문서를 보면 공식적으로 Disqus를 지원하고 있습니다. ↩︎\nDisqus의 다양한 장점은 해당 페이지에서 확인할 수 있습니다. ↩︎\nCommento vs Disqus ↩︎\nOpen Graph는 검색엔진이나 SNS 등에서 해당 페이지에 접속하기 전에 대략적인 페이지 구성 등을 확인할 수 있도록 해주는 프로토콜입니다. ↩︎\n어떤 템플릿이 렌더링될까? ↩︎\n자바를 사용해보신 분들은 잘 아시겠지만 덮어쓰기한다는 뜻입니다. ↩︎\n한 페이지를 이동할 수 있는 여러 개의 URL이 있을때, Bot들이 참고해서 올 수 있는 공식 경로를 뜻합니다. ↩︎\n자세한 설명은 Hugo 공식 홈페이지를 참조하시기 바랍니다. ↩︎\n","wordCount":"1517","inLanguage":"ko","image":"https://leaf-nam.github.io/cover.png","datePublished":"2024-03-05T19:08:20+09:00","dateModified":"2024-03-05T19:08:20+09:00","author":{"@type":"Person","name":"Leaf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://leaf-nam.github.io/posts/gitblog/5/"},"publisher":{"@type":"Organization","name":"봄을 기다리는 낙엽","logo":{"@type":"ImageObject","url":"https://leaf-nam.github.io/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://leaf-nam.github.io/ accesskey=h title="LEAF (Alt + H)">LEAF</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://leaf-nam.github.io/search/ title=검색><span>검색</span></a></li><li><a href=https://leaf-nam.github.io/posts/ title=게시글><span>게시글</span></a></li><li><a href=https://leaf-nam.github.io/tips/ title=미세팁><span>미세팁</span></a></li><li><a href=https://leaf-nam.github.io/archives/ title=아카이브><span>아카이브</span></a></li><li><a href=https://leaf-nam.github.io/cote/ title=알고리즘><span>알고리즘</span></a></li><li><a href=https://leaf-nam.github.io/review/ title="책 리뷰"><span>책 리뷰</span></a></li><li><a href=https://leaf-nam.github.io/categories/ title=카테고리><span>카테고리</span></a></li><li><a href=https://leaf-nam.github.io/tags/ title=태그><span>태그</span></a></li><li><a href=https://github.com/leaf-nam/blog title=Git><span>Git</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://leaf-nam.github.io/>홈</a>&nbsp;»&nbsp;<a href=https://leaf-nam.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=https://leaf-nam.github.io/posts/gitblog/>좌충우돌 깃허브 블로그 생성기</a></div><h1 class="post-title entry-hint-parent">깃허브 블로그 댓글 구현 : Utterances 도입기</h1><div class=post-description>블로그 댓글을 구현할 수 있는 utterances를 적용합니다.</div><div class=post-meta><span title='2024-03-05 19:08:20 +0900 KST'>2024. 3. 5.</span>&nbsp;·&nbsp;8 분&nbsp;·&nbsp;1517 단어&nbsp;·&nbsp;Leaf&nbsp;|&nbsp;<a href=https://github.com/leaf-nam/blog/blob/main/content//posts/gitblog/5/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager srcset="https://leaf-nam.github.io/posts/gitblog/5/cover_hu2176375962781754272.png 360w ,https://leaf-nam.github.io/posts/gitblog/5/cover_hu12392414432510498512.png 480w ,https://leaf-nam.github.io/posts/gitblog/5/cover.png 600w" sizes="(min-width: 768px) 720px, 100vw" src=https://leaf-nam.github.io/posts/gitblog/5/cover.png alt="utterances logo" width=600 height=300><p>utterances는 &lsquo;입 밖에 냄&rsquo;이라는 뜻의 라틴어 &lsquo;ut&rsquo;에서 유래했습니다.</p></figure><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#도입>도입</a></li><li><a href=#블로그-댓글-구현방법-비교>블로그 댓글 구현방법 비교</a><ul><li><a href=#disqus>Disqus</a></li><li><a href=#commento>Commento</a></li><li><a href=#utterances>Utterances</a></li></ul></li><li><a href=#utterances-설치방법>Utterances 설치방법</a><ul><li><a href=#utterances-기본설정>Utterances 기본설정</a></li><li><a href=#hugo-템플릿-설정>Hugo 템플릿 설정</a></li><li><a href=#github-app-등록>Github App 등록</a></li><li><a href=#canonical-path-설정>Canonical Path 설정</a></li></ul></li><li><a href=#결론>결론</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h2 id=도입>도입<a hidden class=anchor aria-hidden=true href=#도입>#</a></h2><blockquote><p>이전 포스팅 참조 :
<a href=https://leaf-nam.github.io/posts/blog/%EA%B0%9C%EB%B0%9C_%EB%B8%94%EB%A1%9C%EA%B7%B8%EC%9D%98_%EC%A2%85%EB%A5%98%EC%99%80_%EC%84%A0%ED%83%9D_240229/>개발 블로그의 종류와 선택</a> > <a href=https://leaf-nam.github.io/posts/blog/ssg%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC_240302/>SSG에 대하여</a> > <a href=https://leaf-nam.github.io/posts/240229_%EC%A2%8C%EC%B6%A9%EC%9A%B0%EB%8F%8C_%EA%B9%83%ED%97%88%EB%B8%8C_%EB%B8%94%EB%A1%9C%EA%B7%B8_%EC%83%9D%EC%84%B1%EA%B8%B0/240303_hugo-%EA%B8%B0%EB%B3%B8-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%82%AC%EC%9A%A9%EB%B2%95/>HUGO 기본 설치 및 사용법</a> > <a href=https://leaf-nam.github.io/posts/240229_%EC%A2%8C%EC%B6%A9%EC%9A%B0%EB%8F%8C_%EA%B9%83%ED%97%88%EB%B8%8C_%EB%B8%94%EB%A1%9C%EA%B7%B8_%EC%83%9D%EC%84%B1%EA%B8%B0/240304_git_%EC%97%B0%EB%8F%99%EA%B3%BC_%EC%A0%95%EC%A0%81_%ED%8E%98%EC%9D%B4%EC%A7%80_%EB%B0%B0%ED%8F%AC/>Git 연동과 정적 페이지 배포</a></p></blockquote><p>저번 포스팅까지 블로그를 만들어봤는데요, 댓글이 없으니 뭔가 허전한 느낌입니다. 원래 블로그는 다른 사람과의 소통을 위함이니까요.</p><p>이번 시간에는 블로그 댓글을 생성하는 라이브러리들을 비교해보고, 그중 utterances를 직접 블로그에 적용해 보겠습니다.</p><blockquote><p>저도 처음에는 어떻게 댓글을 구현할까 하다가, 직접 기능을 만들어보려고도 생각했었습니다. 하지만, 그럼 로그인 기능이나 댓글을 저장하는 DB도 만들어야 하는데 블로그 만드는 것보다 더 많은 노력이 필요할 것 같았습니다. 여기저기 찾아보니 댓글을 구현해주는 다양한 라이브러리가 있어 다행히 쉽게 적용할 수 있었습니다.</p></blockquote><h2 id=블로그-댓글-구현방법-비교>블로그 댓글 구현방법 비교<a hidden class=anchor aria-hidden=true href=#블로그-댓글-구현방법-비교>#</a></h2><p>블로그 종류가 다양한 만큼, 블로그 댓글을 구현하는 방법도 다양합니다.</p><p>그럼 댓글 구현방법에 대한 각각의 장단점을 알아보겠습니다.</p><h3 id=disqus>Disqus<a hidden class=anchor aria-hidden=true href=#disqus>#</a></h3><p><img alt=disqus loading=lazy src=/posts/gitblog/5/disqus.png#center></p><p>Disqus는 댓글을 쉽게 구현하도록 도와주는 프레임워크입니다. Disqus 내부에 서버가 있어 댓글을 작성하면 해당 서버에 댓글을 작성하고 불러오는 방식으로 구현됩니다.</p><p>또한, Hugo에서 공식적으로 지원하는 댓글 기능이기도 합니다.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p><a href=https://gohugo.io/content-management/comments/#configure-disqus>Hugo 문서</a>에 나와있는 것처럼 config에 Disqus 이름(shortname)을 작성하면 쉽게 연동이 가능합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>disqus</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>shortname</span><span class=p>:</span><span class=w> </span><span class=l>your-disqus-shortname</span><span class=w>
</span></span></span></code></pre></div><p><strong>장점</strong></p><ol><li>Hugo에서 기본으로 지원하는 기능인 만큼 연동성이 좋습니다.</li><li>다른 사이트에 남긴 댓글들을 모아서 한번에 조회가 가능하며, 댓글 추이나 통계에 대한 분석도 제공합니다.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></li><li>사용자가 많고 특히 해외에서는 해당 서비스 사용자가 많은 것 같습니다.</li></ol><p><strong>단점</strong></p><ol><li>댓글을 남기기 위해서는 사용자가 해당 서비스에 가입해야 합니다.</li><li>현재까지 유효한 정책인지는 모르겠지만, 과거에는 2년 이상 사용 시 과금을 했다고 합니다. 서비스 기업이다 보니 차후에 요금정책이 변경될 가능성도 있을 것 같습니다.</li><li>마찬가지로 해당 서비스가 종료되면 댓글도 사라질 위험이 있습니다.</li></ol><blockquote><p>저는 다른것보다 사용자가 새로운 회원가입을 해야 하는 부분에 불편함이 있을 것 같아 다른 옵션을 찾아보게 되었습니다.</p></blockquote><h3 id=commento>Commento<a hidden class=anchor aria-hidden=true href=#commento>#</a></h3><p><img alt=commento loading=lazy src=/posts/gitblog/5/commento.png#center></p><p>Commento는 가벼움과 프라이버시에 초점을 맞춘 댓글 플랫폼입니다. Commento 또한 해외에서 많이 사용하는 옵션 중 하나입니다.
Commento와 Disqus 사이에 고민하는 포스팅을 많이 볼 수 있었습니다.<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup></p><p><strong>장점</strong></p><ol><li>프라이버시를 보장하기 위한 익명 댓글 기능이 있습니다.</li><li>클라우드 서버나 사용자 DB에 연결되어 댓글이 저장되기 때문에 유실 걱정이 없습니다.</li><li>제 기준에서는 UI나 디자인이 제일 깔끔한 것 같습니다.<figure><a href=https://demo.commento.io/><img loading=lazy src=commento_ex.png alt="Comment Demo 페이지, 이미지를 누르면 해당 데모 페이지로 이동합니다."></a><figcaption><p>Comment Demo 페이지, 이미지를 누르면 해당 데모 페이지로 이동합니다.</p></figcaption></figure></li></ol><p><strong>단점</strong></p><ol><li>클라우드 서비스 사용시 요금 정책이 있습니다. 현재 날짜 기준 월 10$, 연 99$입니다.</li><li>클라우드 서비스나 DB에 등록하는 과정이 조금 복잡합니다.</li><li>도메인별로 클라우드 서버를 설정하기 때문에 댓글 공유는 되지 않습니다.</li></ol><blockquote><p>요금은 클라우드 서비스를 사용하기 위해 어쩔 수 없이 내야하는 부분인 것 같고, 직접 DB를 구현하면 무료라고 합니다. 저는 차후 블로그 유저가 많아지거나, utterances가 불편한 점이 생기면 commento를 도입해볼 생각도 있습니다.</p></blockquote><h3 id=utterances>Utterances<a hidden class=anchor aria-hidden=true href=#utterances>#</a></h3><p><img alt=utterances loading=lazy src=/posts/gitblog/5/cover.png#center></p><p>제 블로그에 도입해서 사용하고 있는 Utterances 입니다.</p><p>작동 원리는 깃허브 issue에 댓글을 남기고 트래킹하는 방식으로 구현이 되어있습니다.</p><blockquote><p>정말 똑똑한 사람들이 많습니다. <del>여담이지만 utteranc.es라는 url 정말 잘 만든 것 같습니다.</del></p></blockquote><p>코드 한 줄만 추가하면 바로 사용할 수 있어 가볍고 깃허브 아이디만 있으면 쉽게 댓글을 달 수 있습니다.</p><p><strong>장점</strong></p><ol><li>방문자도 깃허브 계정만 있으면 댓글을 남기는 것이 가능합니다.</li><li>script 기반으로 설치 및 구현이 쉽습니다.</li><li>깃허브 이슈와 연동되기 때문에 별도의 저장공간이 불필요합니다.</li></ol><p><strong>단점</strong></p><ol><li>이슈번호와 연결이 잘못되면 다른 글에 남긴 댓글이 보이는 등 이상현상이 발생한다고 하네요.(아직 댓글이 없어서 직접 확인은 못했습니다.)</li><li>깃허브가 없는 일반 사용자는 댓글을 남길 수 없습니다.</li><li>css를 설정하지 못하고 정해진 테마(9개) 중 선택해야 합니다.(css 테마가 필요하면 직접 구현해서 오픈소스에 기여해달라고 하네요..)</li></ol><blockquote><p>어차피 깃허브 블로그인 이상 제 블로그의 생명주기는 깃허브와 같아졌으므로, utterances가 가장 합리적인 선택으로 보였습니다.
사용해보고 문제가 있다면 다른 댓글 플랫폼도 사용해보고 싶네요.</p></blockquote><h2 id=utterances-설치방법>Utterances 설치방법<a hidden class=anchor aria-hidden=true href=#utterances-설치방법>#</a></h2><p>설치를 시작하기에 앞서 Utterances에서 댓글이 구현되는 원리를 간단히 알아보자면 다음과 같습니다.</p><ol><li>Utterances Bot이 깃허브 앱에 등록이 되고, 사용자가 작성한 스크립트로 페이지에 불러와집니다.</li><li>해당 스트립트에 표기된 깃허브 레포지토리에서 현재 페이지에 맞는 댓글을 불러옵니다.</li><li>댓글 작성버튼을 누르면 레포지토리에 현재 페이지의 정보와 함께 댓글을 저장합니다.</li></ol><p>심플하면서도 깃허브 페이지에 아주 효과적인 전략인 것 같습니다. 그럼 이제 본격적으로 Utterances를 설치해보겠습니다.</p><h3 id=utterances-기본설정>Utterances 기본설정<a hidden class=anchor aria-hidden=true href=#utterances-기본설정>#</a></h3><p><a href=https://utteranc.es>먼저 Utterances 홈페이지</a>에 들어가서 설정을 해야 합니다.
해당 페이지에 들어가시면 configuration탭이 있는데, 딱 4가지 설정만 하시면 됩니다.</p><ol><li><p><strong>레포지토리 입력(필수)</strong></p><p>먼저 해당 댓글을 사용할 레포지토리를 입력합니다. 본인의 블로그 레포지토리가 될 수도 있고, 별도의 댓글만 저장하기 위한 전용 레포지토리를 생성하셔도 좋습니다.</p><p>저는 정적 페이지를 위한 레포지토리를 분리해두었기 때문에 해당 레포지토리를 그대로 사용했습니다.</p><figure><a href=https://utteranc.es/#configuration><img loading=lazy src=utterances_repository.png alt="[1] 레포지토리를 입력합니다."></a><figcaption><p>[1] 레포지토리를 입력합니다.</p></figcaption></figure></li><li><p><strong>이슈 매핑방법(필수)</strong></p><p>Utterances Bot이 깃허브 이슈에 댓글을 저장하고, 불러오기 위해서는 해당 이슈가 어떤 포스트에 해당하는지를 알아야 합니다.</p><p>이를 위해 깃허브 이슈와 댓글을 어떻게 매핑할지 6가지 전략을 선택할 수 있습니다.</p><blockquote><p>실제로 Utterances로 댓글을 남기면 해당 전략에 따라 레포지토리 이슈에 저장이 되므로 본인이 관리하기 편한 방식을 선택하시는게 좋습니다.</p></blockquote><ol><li><strong>pathname</strong> : 현재 페이지의 url 중 경로명을 기반으로 댓글을 저장 및 탐색합니다.</li></ol><blockquote><p>처음에 해당 방식을 사용했는데, 경로명에 한글이 포함되어있으면 utf-8로 인코딩 된 경로가 나오게 되어 나중에 알아보기가 힘들어 title로 변경했습니다.</p></blockquote><ol start=2><li><p><strong>URL</strong> : url을 기반으로 댓글을 저장 및 탐색합니다. pathname과 다르게 전체 url경로를 모두 사용합니다.</p></li><li><p><strong>title</strong> : 포스팅 제목을 기반으로 댓글을 저장 및 탐색합니다.</p></li><li><p><strong>og:title</strong> : Open Graph<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>의 메타 필드를 참조해서 댓글을 저장 및 탐색합니다.</p></li><li><p><strong>issue number</strong> : 이슈번호를 특정할 수 있습니다. 이슈가 자동생성되지 않아 미리 이슈를 만들어 두고 직접 연결해야 합니다.</p></li><li><p><strong>specific term</strong> : 이슈를 탐색할 때 설정한 특정 키워드를 포함하는지 확인합니다. 5번과 유사하지만 처음 댓글을 달면 해당 키워드를 포함하여 자동으로 이슈를 생성해줍니다.</p></li></ol><figure><a href=https://utteranc.es/#configuration><img loading=lazy src=utterances_issue_strategy.png alt="[2] 매핑전략을 선택합니다."></a><figcaption><p>[2] 매핑전략을 선택합니다.</p></figcaption></figure></li><li><p><strong>이슈 라벨 설정(선택)</strong></p></li></ol><p>필수는 아니지만 이슈 앞에 부착할 라벨을 설정할 수 있습니다. 만약 이슈와 댓글을 동시에 사용하는 페이지가 있다면 이를 구분할 때 편리할 듯 합니다.</p><blockquote><p>💬 와 같은 이모지도 넣을 수 있다고 하네요.</p></blockquote><figure><a href=https://utteranc.es/#configuration><img loading=lazy src=utterances_issue_label.png alt="[3] 이슈 라벨을 선택합니다."></a><figcaption><p>[3] 이슈 라벨을 선택합니다.</p></figcaption></figure><ol start=4><li><strong>테마 설정(필수)</strong></li></ol><p>마지막으로 테마(댓글 템플릿)를 설정해야 합니다.
<a href=https://utteranc.es>utteranc.es</a> 페이지에서 테마를 선택하면 자동으로 해당 테마에 맞게 페이지가 변경되니, 해당 페이지를 보고 본인의 블로그와 맞는 페이지를 선택하시면 될 것 같습니다.</p><figure><a href=https://utteranc.es/#configuration><img loading=lazy src=utterances_theme.png alt="[4] 이슈 테마를 선택합니다."></a><figcaption><p>[4] 이슈 테마를 선택합니다.</p></figcaption></figure><blockquote><p>이제 Utterances 설정이 끝났습니다. 모든 설정을 마치면 다음과 같이 스크립트를 복사할 수 있습니다.</p></blockquote><figure><a href=https://utteranc.es/#configuration><img loading=lazy src=utterances_script_copy.png alt="스크립트 태그를 복사합니다."></a><figcaption><p>스크립트 태그를 복사합니다.</p></figcaption></figure><h3 id=hugo-템플릿-설정>Hugo 템플릿 설정<a hidden class=anchor aria-hidden=true href=#hugo-템플릿-설정>#</a></h3><p>모든 설정이 끝났다면, 해당 설정정보를 블로그로 불러와야 합니다. 저는 Hugo를 사용하고 있기 때문에 Hugo에서 설정하는 방법을 설명드리겠습니다.</p><blockquote><p>다른 정적 페이지를 사용하신다면 해당 페이지의 html 중 댓글이 필요한 위치에 script를 불러오시면 됩니다.</p></blockquote><p>Hugo에서 댓글을 적용하시려면 우선 Hugo가 어떻게 페이지를 렌더링하는지 이해해야 합니다.<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> 위 주석을 참고하시면 Hugo의 페이지 렌더링 순서는 다음과 같습니다.</p><ol><li>사용자가 설정한 특정 레이아웃</li><li>사용자가 설정한 기본 레이아웃</li><li>테마에 설정된 특정 레이아웃</li><li>테마에 설정된 기본 레이아웃</li></ol><p>저는 PaperMod라는 테마를 사용하고 있습니다. 따라서 댓글을 화면에 표시하기 위해서는 제가 직접 레이아웃 폴더를 생성해서 <strong>PaperMod의 Comment 레이아웃(comments.html)을 Override</strong><sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>해주어야 합니다.</p><p>따라서 다음과 같이 새로운 폴더와 comments.html 파일을 생성합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>README</span><span class=o>.</span><span class=n>md</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>archetypes</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>config</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└──</span> <span class=n>_default</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>└──</span> <span class=n>hugo</span><span class=o>.</span><span class=n>yaml</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>content</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>layouts</span>  <span class=c1># layouts 디렉터리를 생성합니다.</span>
</span></span><span class=line><span class=cl><span class=err>│</span>   <span class=err>└──</span> <span class=n>partials</span>  <span class=c1># partials 디렉터리를 생성합니다.</span>
</span></span><span class=line><span class=cl><span class=err>│</span>       <span class=err>└──</span> <span class=n>comments</span><span class=o>.</span><span class=n>html</span>  <span class=c1># comments.html을 생성하고, 내부에 아래 주석 내용을 붙여넣기합니다.</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>public</span>
</span></span><span class=line><span class=cl><span class=err>├──</span> <span class=n>resources</span>
</span></span><span class=line><span class=cl><span class=err>└──</span> <span class=n>themes</span>
</span></span><span class=line><span class=cl>    <span class=err>└──</span> <span class=n>PaperMod</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># [붙여넣기] comments.html : PaperMod에서 제공하는 기본 템플릿입니다.</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=o>/*</span> <span class=n>Comments</span> <span class=n>area</span> <span class=n>start</span> <span class=o>*/</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=o>/*</span> <span class=n>to</span> <span class=n>add</span> <span class=n>comments</span> <span class=n>read</span> <span class=o>=&gt;</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>gohugo</span><span class=o>.</span><span class=n>io</span><span class=o>/</span><span class=n>content</span><span class=o>-</span><span class=n>management</span><span class=o>/</span><span class=n>comments</span><span class=o>/</span> <span class=o>*/</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=o>/*</span> <span class=n>Comments</span> <span class=n>area</span> <span class=n>end</span> <span class=o>*/</span> <span class=o>-</span><span class=p>}}</span>
</span></span></code></pre></div><p>위에서 생성한 comments.html 파일 내부에 아까 생성했던 utterances script 태그를 복사하면 완료입니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=o>/*</span> <span class=n>Comments</span> <span class=n>area</span> <span class=n>start</span> <span class=o>*/</span> <span class=o>-</span><span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=c1># utterances script를 여기에 붙여넣습니다.</span>
</span></span><span class=line><span class=cl><span class=p>{{</span><span class=o>-</span> <span class=o>/*</span> <span class=n>Comments</span> <span class=n>area</span> <span class=n>end</span> <span class=o>*/</span> <span class=o>-</span><span class=p>}}</span>
</span></span></code></pre></div><blockquote><p>다른 Hugo 테마를 사용하신다면, 테마 폴더 내부의 layouts를 찾아보시면 Comments가 구현되어 있으실텐데 해당 파일을 가져오시면 됩니다.</p></blockquote><blockquote><p>테마에 Comments가 구현되어 있지 않다면 <a href=https://gohugo.io/templates/introduction/#comments>Hugo 사이트를 참고</a>해서 직접 레이아웃을 구현하셔야 합니다.</p></blockquote><h3 id=github-app-등록>Github App 등록<a hidden class=anchor aria-hidden=true href=#github-app-등록>#</a></h3><p>Utterances가 레포지토리의 이슈에 접근하려면 깃허브 앱으로 등록해야 합니다.
<a href=https://github.com/apps/utterances>Utterances App</a> 페이지에서 설치가 가능합니다.</p><p>참고로 아래 사진과 같이 댓글을 저장할 레포지토리만 등록하시면 잘 작동합니다.</p><figure><a href=https://github.com/apps/utterances><img loading=lazy src=utterances_app_regist.png alt="필요한 레포지토리만 등록하시면 됩니다."></a><figcaption><p>필요한 레포지토리만 등록하시면 됩니다.</p></figcaption></figure><h3 id=canonical-path-설정>Canonical Path 설정<a hidden class=anchor aria-hidden=true href=#canonical-path-설정>#</a></h3><p>처음 Utterances를 적용하시면 아마 다음 페이지와 같이 로그인하라는 창이 나오실겁니다.</p><figure><img loading=lazy src=need_login.png alt="로그인이 필요합니다."><figcaption><p>로그인이 필요합니다.</p></figcaption></figure><p>로그인 과정은 다음과 같습니다.</p><ol><li>로그인 버튼을 클릭하면 현재 페이지에서 Github의 OAuth 서비스 페이지로 이동합니다.</li><li>인증이 완료되면 Github에서 인증 토큰을 발급합니다.</li><li>Utterances Bot이 해당 토큰을 통해 아까 설정한 레포지토리로 접근합니다.</li><li>레포지토리에 접근이 가능해지면 현재 페이지와 레포지토리를 연결한 후, 현재 페이지로 복귀합니다.</li></ol><p>이 과정에서 Utterances Bot은 Canonical Path<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>를 통해 현재 페이지를 인식하게 됩니다.</p><p>그러나 Canonical Path가 제대로 설정되어 있지 않다면, <strong>Utterance Bot이 해당 페이지를 인식하지 못합니다.</strong> 따라서 Canonical Path를 올바르게 설정해서 Utterance Bot이 다시 해당 페이지로 찾아올 수 있도록 합니다.</p><p>이러한 Canonical Path는 <strong>head에 링크 태그</strong>로 생성됩니다.</p><blockquote><p>Canonical Path를 설정하는 방법은 테마마다 달라서 저는 PaperMod 테마 기준으로 설명드리겠습니다.</p></blockquote><p>PaperMod 테마의 layouts > partials > head.html 템플릿을 확인해보면 다음과 같이 canonical path가 생성됨을 알 수 있습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// CanonicalURL이 있으면 그걸로 생성, 아니면 Permalink로 생성
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>&lt;</span><span class=nx>link</span> <span class=nx>rel</span><span class=p>=</span><span class=s>&#34;canonical&#34;</span> <span class=nx>href</span><span class=p>=</span><span class=s>&#34;{{ if .Params.canonicalURL -}} {{ trim .Params.canonicalURL &#34;</span> <span class=s>&#34; }} {{- else -}} {{
</span></span></span><span class=line><span class=cl><span class=s>.Permalink }} {{- end }}&#34;</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>따라서 hugo 설정파일 내부에 Params.canonicalURL 설정이 있다면 해당 설정을 통해 canonicalURL을 생성하고, 그렇지 않으면 <strong>Permalink<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup>를 따라간다</strong>는 것을 알 수 있습니다.</p><p>Permalink는 설정파일의 BaseURL에 현재 콘텐츠의 경로를 붙여서 생성됩니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=p>{{</span> <span class=nx>with</span> <span class=nx>resources</span><span class=p>.</span><span class=nx>Get</span> <span class=s>&#34;images/a.jpg&#34;</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl>  <span class=p>{{</span> <span class=p>.</span><span class=nx>Permalink</span> <span class=p>}}</span> <span class=err>→</span> <span class=nx>https</span><span class=p>:</span><span class=c1>//example.org/images/a.jpg
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{{</span> <span class=nx>end</span> <span class=p>}}</span>
</span></span></code></pre></div><p>콘텐츠 경로는 hugo가 빌드하는 과정에서 잘 세팅이 되기 때문에 BaseURL만 해당 블로그의 기본주소로 잘 설정하면 정확한 canonicalURL을 얻을 수 있습니다.</p><p>따라서 기본 설정파일(hugo.yaml or hugo.toml or config.yaml)의 <strong>BaseURL을 현재 블로그 페이지의 기본주소로</strong> 잘 설정해주어야 합니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-py data-lang=py><span class=line><span class=cl><span class=c1># hugo.toml 혹은 hugo.yaml</span>
</span></span><span class=line><span class=cl><span class=n>baseURL</span><span class=p>:</span> <span class=s2>&#34;https://</span><span class=si>{github계정명}</span><span class=s2>.github.io/&#34;</span> <span class=c1># yaml 형식일 경우</span>
</span></span><span class=line><span class=cl><span class=n>baseURL</span> <span class=o>=</span> <span class=s1>&#39;https://</span><span class=si>{github계정명}</span><span class=s1>.github.io/&#39;</span> <span class=c1># toml 형식일 경우</span>
</span></span></code></pre></div><blockquote><p>여기까지 설정하셨으면 Github OAuth를 통해 로그인이 잘 되실겁니다.</p></blockquote><h2 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h2><p>오늘은 깃허브 블로그 댓글을 구현하는 다양한 방법에 대해 알아보고, 그 중 Utterances를 통해 직접 구현해보았습니다. 다들 본인만의 블로그를 만드시는데 조금이나마 도움이 되었으면 좋겠습니다.</p><p>앞으로도 Hugo 블로그에 관련한 다양한 세팅에 대해 다뤄볼 예정이니 필요하거나 궁금한 부분이 있으시다면 알려주세요.</p><blockquote><p>블로그 글이 너무 길어져버렸네요. 앞으로는 배경 설명과 직접 구현하는 포스팅을 잘 분리해야 할 것 같습니다..</p></blockquote><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><table><thead><tr><th style=text-align:left>URL</th><th style=text-align:left>게시일자</th><th style=text-align:left>방문일자</th><th style=text-align:left>작성자</th></tr></thead><tbody><tr><td style=text-align:left><a href=https://gohugo.io/>https://gohugo.io/</a></td><td style=text-align:left>미등록</td><td style=text-align:left>2024.03.07.</td><td style=text-align:left><a href=https://github.com/gohugoio/hugo/graphs/contributors>Hugo Authors</a></td></tr><tr><td style=text-align:left><a href=https://disqus.com/>https://disqus.com/</a></td><td style=text-align:left>미등록</td><td style=text-align:left>2024.03.07.</td><td style=text-align:left>2024 Disqus</td></tr><tr><td style=text-align:left><a href=https://docs.commento.io/>https://docs.commento.io/</a></td><td style=text-align:left>미등록</td><td style=text-align:left>2024.03.07.</td><td style=text-align:left>Commento</td></tr><tr><td style=text-align:left><a href=https://utteranc.es/>https://utteranc.es/</a></td><td style=text-align:left>미등록</td><td style=text-align:left>2024.03.07.</td><td style=text-align:left><a href=https://github.com/orgs/utterance/people>Utterances</a></td></tr><tr><td style=text-align:left><a href=https://stackshare.io/stackups/commento-vs-disqus>https://stackshare.io/stackups/commento-vs-disqus</a></td><td style=text-align:left>미등록</td><td style=text-align:left>2024.03.07.</td><td style=text-align:left>Stackshare</td></tr></tbody></table><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://gohugo.io/content-management/comments/>Hugo의 문서</a>를 보면 공식적으로 Disqus를 지원하고 있습니다.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://disqus.com/platform/overview>Disqus의 다양한 장점</a>은 해당 페이지에서 확인할 수 있습니다.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p><a href=https://stackshare.io/stackups/commento-vs-disqus>Commento vs Disqus</a>&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p><a href=https://ogp.me/>Open Graph</a>는 검색엔진이나 SNS 등에서 해당 페이지에 접속하기 전에 대략적인 페이지 구성 등을 확인할 수 있도록 해주는 프로토콜입니다.
<img alt="카카오톡 예시" loading=lazy src=/posts/gitblog/5/kakaotalk.png>&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p><a href=https://gohugo.io/templates/views/#which-template-will-be-rendered>어떤 템플릿이 렌더링될까?</a>&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p>자바를 사용해보신 분들은 잘 아시겠지만 덮어쓰기한다는 뜻입니다.&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7><p>한 페이지를 이동할 수 있는 여러 개의 URL이 있을때, Bot들이 참고해서 올 수 있는 공식 경로를 뜻합니다.&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8><p>자세한 설명은 <a href=https://gohugo.io/methods/resource/permalink/>Hugo 공식 홈페이지</a>를 참조하시기 바랍니다.&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://leaf-nam.github.io/tags/comment/>Comment</a></li><li><a href=https://leaf-nam.github.io/tags/utterances/>Utterances</a></li><li><a href=https://leaf-nam.github.io/tags/blog/>Blog</a></li></ul><nav class=paginav><a class=prev href=https://leaf-nam.github.io/posts/cqrs/1/><span class=title>« 이전 페이지</span><br><span>DB 이중화 및 CQRS 패턴의 중요성</span>
</a><a class=next href=https://leaf-nam.github.io/posts/gitblog/4/><span class=title>다음 페이지 »</span><br><span>Git 연동과 정적 페이지 배포</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on x" href="https://x.com/intent/tweet/?text=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0&amp;url=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f&amp;hashtags=comment%2cutterances%2cblog"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f&amp;title=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0&amp;summary=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0&amp;source=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f&title=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on whatsapp" href="https://api.whatsapp.com/send?text=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0%20-%20https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on telegram" href="https://telegram.me/share/url?text=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0&amp;url=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 깃허브 블로그 댓글 구현 : Utterances 도입기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%ea%b9%83%ed%97%88%eb%b8%8c%20%eb%b8%94%eb%a1%9c%ea%b7%b8%20%eb%8c%93%ea%b8%80%20%ea%b5%ac%ed%98%84%20%3a%20Utterances%20%eb%8f%84%ec%9e%85%ea%b8%b0&u=https%3a%2f%2fleaf-nam.github.io%2fposts%2fgitblog%2f5%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=leaf-nam/leaf-nam.github.io issue-term=title theme=boxy-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://leaf-nam.github.io/>봄을 기다리는 낙엽</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>