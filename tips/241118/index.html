<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Java] JPA detached entity passed to persist 오류 해결하기 | 봄을 기다리는 낙엽</title>
<meta name=keywords content="tips"><meta name=description content="detached entity passed to persist 오류를 해결합니다."><meta name=author content="Leaf"><link rel=canonical href=https://1eaf.site/tips/241118/><meta name=google-site-verification content="l76eAEMadEn1QzS8fLTbrl8ppayZprvV3uuAbMGSy_c"><meta name=msvalidate.01 content="XYZabc"><meta name=naver-site-verification content="adff811404d441495a954e30579f40297ba14f5e"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://1eaf.site/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://1eaf.site/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://1eaf.site/favicon-32x32.png><link rel=apple-touch-icon href=https://1eaf.site/apple-touch-icon.png><link rel=mask-icon href=https://1eaf.site/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://1eaf.site/tips/241118/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-9PNFP00SSG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9PNFP00SSG")}</script><meta property="og:url" content="https://1eaf.site/tips/241118/"><meta property="og:site_name" content="봄을 기다리는 낙엽"><meta property="og:title" content="[Java] JPA detached entity passed to persist 오류 해결하기"><meta property="og:description" content="detached entity passed to persist 오류를 해결합니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="tips"><meta property="article:published_time" content="2024-11-18T22:53:05+09:00"><meta property="article:modified_time" content="2024-11-18T22:53:05+09:00"><meta property="article:tag" content="Tips"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Java] JPA detached entity passed to persist 오류 해결하기"><meta name=twitter:description content="detached entity passed to persist 오류를 해결합니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"작고 소중한 미세팁들","item":"https://1eaf.site/tips/"},{"@type":"ListItem","position":2,"name":"[Java] JPA detached entity passed to persist 오류 해결하기","item":"https://1eaf.site/tips/241118/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Java] JPA detached entity passed to persist 오류 해결하기","name":"[Java] JPA detached entity passed to persist 오류 해결하기","description":"detached entity passed to persist 오류를 해결합니다.","keywords":["tips"],"articleBody":"상황 JPA를 사용해서 엔티티를 저장하는 로직에서 종종 발생하는 오류입니다.\n저는 DataJpaTest를 작성하다가 em.persist(member) 메서드를 실행하면 발생했습니다.\n오류 메시지 detached entity passed to persist오류 메시지는 다음과 같습니다.\ndetached entity passed to persist: pull_up.infra.database.entity.Member jakarta.persistence.EntityExistsException: detached entity passed to persist: pull_up.infra.database.entity.Member at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:126) at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167) at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173) at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:763) at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:741) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:569) at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319) at jdk.proxy3/jdk.proxy3.$Proxy148.persist(Unknown Source) at pull_up.global.entity.BaseEntityTest.testCreateAt(BaseEntityTest.java:35) at java.base/java.lang.reflect.Method.invoke(Method.java:569) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) Caused by: org.hibernate.PersistentObjectException: detached entity passed to persist: pull_up.infra.database.entity.Member at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:88) at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77) at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54) at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:757) ... 11 more 해석하기 오류 메시지(detached entity passed to persist)를 그대로 해석하면 다음과 같습니다.\n분리된 엔티티를 저장하려고 시도했습니다.\n그렇다면 엔티티가 분리되었다는 것은 무슨 뜻일까요? JPA Javadoc 우선 가장 위에 적힌 오류인 EntityExistsException을 JPA Javadoc에서 찾아보았고, 다음과 같은 문구를 확인했습니다.\nThrown by the persistence provider when EntityManager.persist(Object) is called and the entity already exists. 이를 해석하면 다음과 같습니다.\nEntityManager.persist(Object) 메서드가 호출될 때, 해당 엔티티가 이미 존재하면 지속성 제공자(persistence provider)가 예외를 던집니다.\n대충 이미 저장된 엔티티를 다시 저장하려고 해서 발생했구나! 라고 눈치챌 수 있었습니다.\n그런데 저는 테스트 도중에 저장하지 않은 객체를 persist하려고 시도했는데 이러한 오류가 발생했습니다. 이에 좀더 찾아보았습니다.\nHibernate Javadoc 이번에는 구현체인 Hibernate에서 발생한 원인인 PersistentObjectException 오류를 Hibernate Javadoc에서 찾아보았습니다.\nThrown when the user passes a persistent instance to a Session method that expects a transient instance.\n이를 해석하면 다음과 같습니다.\n사용자가 세션(EntityManager 구현체)에게 임시 객체라고 판단되는 객체를 영구 객체로 전달했을때 발생합니다.\n즉, 세션(Entity Manager)에게 이미 저장된 임시 객체를 줘놓고 저장하라고 했으니 오류가 발생한 것입니다.\n그렇다면 세션은 이러한 객체를 어떻게 임시 객체라고 판단할까요?\nSpring Data JPA Reference Docs 이는 Hibernate를 공식 구현체로 사용하는 Spring Data JPA의 공식문서에 좀 더 자세히 나와있습니다.\nBy default Spring Data JPA inspects first if there is a Version-property of non-primitive type. If there is, the entity is considered new if the value of that property is null. Without such a Version-property Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity is assumed to be new. Otherwise, it is assumed to be not new.\n해석 아래는 위 원본을 해석한 것입니다.\n기본적으로 Spring Data JPA는 다음 순서로 엔티티를 검사하여 새 엔티티인지 판단합니다: Version 속성 확인1 Version 속성이 존재하고, 해당 속성이 **비-기본 타입(Wrapper 클래스 등)**일 경우, Version 속성의 값이 null이라면 새로운 엔티티로 간주합니다. Version 속성의 값이 null이 아니면 기존 엔티티로 간주합니다. Version 속성이 없는 경우 Identifier(식별자) 속성(Primary Key)을 검사합니다.\nIdentifier 속성의 값이 null이라면 새로운 엔티티로 간주합니다. Identifier 속성의 값이 null이 아니면 기존 엔티티로 간주합니다. 결론 detached entity passed to persist가 발생하는 주요 원인은 다음과 같습니다.\n이미 저장된 객체를 다시 저장하려고 시도했을 때 Version 속성이 null이 아닌 객체를 저장하려고 했을 떄 식별자(id)가 null이 아닌 객체를 저장하려고 했을 때 저의 경우는 테스트에서 임시로 생성한 Member 객체에 id를 설정한 뒤 저장하려고 시도해서 위 오류가 발생했습니다.\nReferences URL 게시일자 방문일자 작성자 JPA Javadoc - 2024.11.18. Jakarta Hibernate Javadoc - 2024.11.18. Hibernate SpringDataJPA 공식문서 - 2024.11.18. Spring Version 속성은 JPA의 낙관적 락(Optimistic Locking)을 설정할 때 주로 사용한다고 합니다. ↩︎\n","wordCount":"485","inLanguage":"ko","datePublished":"2024-11-18T22:53:05+09:00","dateModified":"2024-11-18T22:53:05+09:00","author":{"@type":"Person","name":"Leaf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://1eaf.site/tips/241118/"},"publisher":{"@type":"Organization","name":"봄을 기다리는 낙엽","logo":{"@type":"ImageObject","url":"https://1eaf.site/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://1eaf.site/ accesskey=h title="LEAF (Alt + H)">LEAF</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://1eaf.site/search/ title=검색><span>검색</span></a></li><li><a href=https://1eaf.site/posts/ title=게시글><span>게시글</span></a></li><li><a href=https://1eaf.site/tips/ title=미세팁><span>미세팁</span></a></li><li><a href=https://1eaf.site/archives/ title=아카이브><span>아카이브</span></a></li><li><a href=https://1eaf.site/cote/ title=알고리즘><span>알고리즘</span></a></li><li><a href=https://1eaf.site/review/ title="책 리뷰"><span>책 리뷰</span></a></li><li><a href=https://1eaf.site/categories/ title=카테고리><span>카테고리</span></a></li><li><a href=https://1eaf.site/tags/ title=태그><span>태그</span></a></li><li><a href=https://github.com/leaf-nam/blog title=Git><span>Git</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://1eaf.site/>홈</a>&nbsp;»&nbsp;<a href=https://1eaf.site/tips/>작고 소중한 미세팁들</a></div><h1 class="post-title entry-hint-parent">[Java] JPA detached entity passed to persist 오류 해결하기</h1><div class=post-description>detached entity passed to persist 오류를 해결합니다.</div><div class=post-meta><span title='2024-11-18 22:53:05 +0900 KST'>2024. 11. 18.</span>&nbsp;·&nbsp;3 분&nbsp;·&nbsp;485 단어&nbsp;·&nbsp;Leaf&nbsp;|&nbsp;<a href=https://github.com/leaf-nam/blog/blob/main/content/ rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#상황>상황</a></li><li><a href=#오류-메시지>오류 메시지</a></li><li><a href=#해석하기>해석하기</a></li><li><a href=#jpa-javadoc>JPA Javadoc</a></li><li><a href=#hibernate-javadoc>Hibernate Javadoc</a></li><li><a href=#spring-data-jpa-reference-docs>Spring Data JPA Reference Docs</a><ul><li><a href=#해석>해석</a></li></ul></li><li><a href=#결론>결론</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h2 id=상황>상황<a hidden class=anchor aria-hidden=true href=#상황>#</a></h2><p>JPA를 사용해서 엔티티를 저장하는 로직에서 종종 발생하는 오류입니다.</p><blockquote><p>저는 DataJpaTest를 작성하다가 <code>em.persist(member)</code> 메서드를 실행하면 발생했습니다.</p></blockquote><h2 id=오류-메시지>오류 메시지<a hidden class=anchor aria-hidden=true href=#오류-메시지>#</a></h2><p><code>detached entity passed to persist</code>오류 메시지는 다음과 같습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>detached</span><span class=w> </span><span class=n>entity</span><span class=w> </span><span class=n>passed</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>persist</span><span class=p>:</span><span class=w> </span><span class=n>pull_up</span><span class=p>.</span><span class=na>infra</span><span class=p>.</span><span class=na>database</span><span class=p>.</span><span class=na>entity</span><span class=p>.</span><span class=na>Member</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>jakarta</span><span class=p>.</span><span class=na>persistence</span><span class=p>.</span><span class=na>EntityExistsException</span><span class=p>:</span><span class=w> </span><span class=n>detached</span><span class=w> </span><span class=n>entity</span><span class=w> </span><span class=n>passed</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>persist</span><span class=p>:</span><span class=w> </span><span class=n>pull_up</span><span class=p>.</span><span class=na>infra</span><span class=p>.</span><span class=na>database</span><span class=p>.</span><span class=na>entity</span><span class=p>.</span><span class=na>Member</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>ExceptionConverterImpl</span><span class=p>.</span><span class=na>convert</span><span class=p>(</span><span class=n>ExceptionConverterImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>126</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>ExceptionConverterImpl</span><span class=p>.</span><span class=na>convert</span><span class=p>(</span><span class=n>ExceptionConverterImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>167</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>ExceptionConverterImpl</span><span class=p>.</span><span class=na>convert</span><span class=p>(</span><span class=n>ExceptionConverterImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>173</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>SessionImpl</span><span class=p>.</span><span class=na>firePersist</span><span class=p>(</span><span class=n>SessionImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>763</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>SessionImpl</span><span class=p>.</span><span class=na>persist</span><span class=p>(</span><span class=n>SessionImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>741</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>jdk</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>NativeMethodAccessorImpl</span><span class=p>.</span><span class=na>invoke0</span><span class=p>(</span><span class=n>Native</span><span class=w> </span><span class=n>Method</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>jdk</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>NativeMethodAccessorImpl</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>NativeMethodAccessorImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>77</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>jdk</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>DelegatingMethodAccessorImpl</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>DelegatingMethodAccessorImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>43</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>Method</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>Method</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>569</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>springframework</span><span class=p>.</span><span class=na>orm</span><span class=p>.</span><span class=na>jpa</span><span class=p>.</span><span class=na>SharedEntityManagerCreator$SharedEntityManagerInvocationHandler</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>SharedEntityManagerCreator</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>319</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>jdk</span><span class=p>.</span><span class=na>proxy3</span><span class=o>/</span><span class=n>jdk</span><span class=p>.</span><span class=na>proxy3</span><span class=p>.</span><span class=na>$Proxy148</span><span class=p>.</span><span class=na>persist</span><span class=p>(</span><span class=n>Unknown</span><span class=w> </span><span class=n>Source</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>pull_up</span><span class=p>.</span><span class=na>global</span><span class=p>.</span><span class=na>entity</span><span class=p>.</span><span class=na>BaseEntityTest</span><span class=p>.</span><span class=na>testCreateAt</span><span class=p>(</span><span class=n>BaseEntityTest</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>35</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>lang</span><span class=p>.</span><span class=na>reflect</span><span class=p>.</span><span class=na>Method</span><span class=p>.</span><span class=na>invoke</span><span class=p>(</span><span class=n>Method</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>569</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>ArrayList</span><span class=p>.</span><span class=na>forEach</span><span class=p>(</span><span class=n>ArrayList</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>1511</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>java</span><span class=p>.</span><span class=na>base</span><span class=o>/</span><span class=n>java</span><span class=p>.</span><span class=na>util</span><span class=p>.</span><span class=na>ArrayList</span><span class=p>.</span><span class=na>forEach</span><span class=p>(</span><span class=n>ArrayList</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>1511</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>Caused</span><span class=w> </span><span class=n>by</span><span class=p>:</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>PersistentObjectException</span><span class=p>:</span><span class=w> </span><span class=n>detached</span><span class=w> </span><span class=n>entity</span><span class=w> </span><span class=n>passed</span><span class=w> </span><span class=n>to</span><span class=w> </span><span class=n>persist</span><span class=p>:</span><span class=w> </span><span class=n>pull_up</span><span class=p>.</span><span class=na>infra</span><span class=p>.</span><span class=na>database</span><span class=p>.</span><span class=na>entity</span><span class=p>.</span><span class=na>Member</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>event</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>DefaultPersistEventListener</span><span class=p>.</span><span class=na>persist</span><span class=p>(</span><span class=n>DefaultPersistEventListener</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>88</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>event</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>DefaultPersistEventListener</span><span class=p>.</span><span class=na>onPersist</span><span class=p>(</span><span class=n>DefaultPersistEventListener</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>77</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>event</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>DefaultPersistEventListener</span><span class=p>.</span><span class=na>onPersist</span><span class=p>(</span><span class=n>DefaultPersistEventListener</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>54</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>event</span><span class=p>.</span><span class=na>service</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>EventListenerGroupImpl</span><span class=p>.</span><span class=na>fireEventOnEachListener</span><span class=p>(</span><span class=n>EventListenerGroupImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>127</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=n>at</span><span class=w> </span><span class=n>org</span><span class=p>.</span><span class=na>hibernate</span><span class=p>.</span><span class=na>internal</span><span class=p>.</span><span class=na>SessionImpl</span><span class=p>.</span><span class=na>firePersist</span><span class=p>(</span><span class=n>SessionImpl</span><span class=p>.</span><span class=na>java</span><span class=p>:</span><span class=n>757</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=p>...</span><span class=w> </span><span class=n>11</span><span class=w> </span><span class=n>more</span><span class=w>
</span></span></span></code></pre></div><h2 id=해석하기>해석하기<a hidden class=anchor aria-hidden=true href=#해석하기>#</a></h2><p>오류 메시지(<code>detached entity passed to persist</code>)를 그대로 해석하면 다음과 같습니다.</p><blockquote><p>분리된 엔티티를 저장하려고 시도했습니다.</p></blockquote><ul><li>그렇다면 엔티티가 분리되었다는 것은 무슨 뜻일까요?</li></ul><h2 id=jpa-javadoc>JPA Javadoc<a hidden class=anchor aria-hidden=true href=#jpa-javadoc>#</a></h2><ul><li><p>우선 가장 위에 적힌 오류인 EntityExistsException을 <a href=https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/entityexistsexception>JPA Javadoc</a>에서 찾아보았고, 다음과 같은 문구를 확인했습니다.</p><p><code>Thrown by the persistence provider when EntityManager.persist(Object) is called and the entity already exists.</code></p></li><li><p>이를 해석하면 다음과 같습니다.</p><p><code>EntityManager.persist(Object) 메서드가 호출될 때, 해당 엔티티가 이미 존재하면 지속성 제공자(persistence provider)가 예외를 던집니다.</code></p></li><li><p>대충 이미 저장된 엔티티를 다시 저장하려고 해서 발생했구나! 라고 눈치챌 수 있었습니다.</p><blockquote><p>그런데 저는 테스트 도중에 저장하지 않은 객체를 persist하려고 시도했는데 이러한 오류가 발생했습니다. 이에 좀더 찾아보았습니다.</p></blockquote></li></ul><h2 id=hibernate-javadoc>Hibernate Javadoc<a hidden class=anchor aria-hidden=true href=#hibernate-javadoc>#</a></h2><ul><li><p>이번에는 구현체인 Hibernate에서 발생한 원인인 PersistentObjectException 오류를 <a href=https://docs.jboss.org/hibernate/orm/6.6/javadocs/org/hibernate/PersistentObjectException.html>Hibernate Javadoc</a>에서 찾아보았습니다.</p><p><code>Thrown when the user passes a persistent instance to a Session method that expects a transient instance.</code></p></li><li><p>이를 해석하면 다음과 같습니다.</p><p><code>사용자가 세션(EntityManager 구현체)에게 임시 객체라고 판단되는 객체를 영구 객체로 전달했을때 발생합니다.</code></p></li></ul><blockquote><p>즉, 세션(Entity Manager)에게 이미 저장된 임시 객체를 줘놓고 저장하라고 했으니 오류가 발생한 것입니다.</p></blockquote><p>그렇다면 세션은 이러한 객체를 어떻게 임시 객체라고 판단할까요?</p><h2 id=spring-data-jpa-reference-docs>Spring Data JPA Reference Docs<a hidden class=anchor aria-hidden=true href=#spring-data-jpa-reference-docs>#</a></h2><p>이는 Hibernate를 공식 구현체로 사용하는 <a href=https://docs.spring.io/spring-data/jpa/reference/jpa/entity-persistence.html#jpa.entity-persistence.saving-entities.strategies>Spring Data JPA의 공식문서</a>에 좀 더 자세히 나와있습니다.</p><p><code>By default Spring Data JPA inspects first if there is a Version-property of non-primitive type. If there is, the entity is considered new if the value of that property is null. Without such a Version-property Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity is assumed to be new. Otherwise, it is assumed to be not new.</code></p><h3 id=해석>해석<a hidden class=anchor aria-hidden=true href=#해석>#</a></h3><p>아래는 위 원본을 해석한 것입니다.</p><ul><li>기본적으로 Spring Data JPA는 다음 순서로 엔티티를 검사하여 새 엔티티인지 판단합니다:</li></ul><ol><li><strong>Version 속성 확인</strong><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></li></ol><ul><li>Version 속성이 존재하고, 해당 속성이 **비-기본 타입(Wrapper 클래스 등)**일 경우,<ul><li>Version 속성의 값이 null이라면 새로운 엔티티로 간주합니다.</li><li>Version 속성의 값이 null이 아니면 기존 엔티티로 간주합니다.</li></ul></li></ul><ol start=2><li><strong>Version 속성이 없는 경우</strong></li></ol><ul><li><p>Identifier(식별자) 속성(Primary Key)을 검사합니다.</p><ul><li>Identifier 속성의 값이 null이라면 새로운 엔티티로 간주합니다.</li><li>Identifier 속성의 값이 null이 아니면 기존 엔티티로 간주합니다.</li></ul></li></ul><h2 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h2><p><code>detached entity passed to persist</code>가 발생하는 주요 원인은 다음과 같습니다.</p><ol><li>이미 저장된 객체를 다시 저장하려고 시도했을 때</li><li>Version 속성이 null이 아닌 객체를 저장하려고 했을 떄</li><li>식별자(id)가 null이 아닌 객체를 저장하려고 했을 때</li></ol><blockquote><p>저의 경우는 테스트에서 임시로 생성한 Member 객체에 id를 설정한 뒤 저장하려고 시도해서 위 오류가 발생했습니다.</p></blockquote><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><table><thead><tr><th style=text-align:left>URL</th><th style=text-align:left>게시일자</th><th style=text-align:left>방문일자</th><th style=text-align:left>작성자</th></tr></thead><tbody><tr><td style=text-align:left><a href=https://jakarta.ee/specifications/platform/9/apidocs/jakarta/persistence/entityexistsexception>JPA Javadoc</a></td><td style=text-align:left>-</td><td style=text-align:left>2024.11.18.</td><td style=text-align:left>Jakarta</td></tr><tr><td style=text-align:left><a href=https://docs.jboss.org/hibernate/orm/6.6/javadocs/org/hibernate/PersistentObjectException.html>Hibernate Javadoc</a></td><td style=text-align:left>-</td><td style=text-align:left>2024.11.18.</td><td style=text-align:left>Hibernate</td></tr><tr><td style=text-align:left><a href=https://docs.spring.io/spring-data/jpa/reference/jpa/entity-persistence.html#jpa.entity-persistence.saving-entities.strategies>SpringDataJPA 공식문서</a></td><td style=text-align:left>-</td><td style=text-align:left>2024.11.18.</td><td style=text-align:left>Spring</td></tr></tbody></table><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Version 속성은 JPA의 낙관적 락(Optimistic Locking)을 설정할 때 주로 사용한다고 합니다.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://1eaf.site/tags/tips/>Tips</a></li></ul><nav class=paginav><a class=prev href=https://1eaf.site/cote/hackerrank_no_prefix_set/><span class=title>« 이전 페이지</span><br><span>[Java]HackerRank No Prefix Set</span>
</a><a class=next href=https://1eaf.site/tips/241116/><span class=title>다음 페이지 »</span><br><span>[Java]String에서 공백 제거하기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on x" href="https://x.com/intent/tweet/?text=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f&amp;hashtags=tips"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f&amp;title=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0&amp;summary=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0&amp;source=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f&title=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on whatsapp" href="https://api.whatsapp.com/send?text=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0%20-%20https%3a%2f%2f1eaf.site%2ftips%2f241118%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on telegram" href="https://telegram.me/share/url?text=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0&amp;url=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java] JPA detached entity passed to persist 오류 해결하기 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%5bJava%5d%20JPA%20detached%20entity%20passed%20to%20persist%20%ec%98%a4%eb%a5%98%20%ed%95%b4%ea%b2%b0%ed%95%98%ea%b8%b0&u=https%3a%2f%2f1eaf.site%2ftips%2f241118%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=leaf-nam/leaf-nam.github.io issue-term=title theme=boxy-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://1eaf.site/>봄을 기다리는 낙엽</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>