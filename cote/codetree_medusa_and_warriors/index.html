<!doctype html><html lang=ko dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Java]코드트리 메두사와 전사들 문제 해설 | 봄을 기다리는 낙엽</title>
<meta name=keywords content="codingtest,codetree,implementation,bfs,search"><meta name=description content="코드트리 메두사와 전사들 문제에 대한 해설입니다."><meta name=author content="Leaf"><link rel=canonical href=https://leaf-nam.github.io/cote/codetree_medusa_and_warriors/><meta name=google-site-verification content="l76eAEMadEn1QzS8fLTbrl8ppayZprvV3uuAbMGSy_c"><meta name=msvalidate.01 content="XYZabc"><meta name=naver-site-verification content="adff811404d441495a954e30579f40297ba14f5e"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://leaf-nam.github.io/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://leaf-nam.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://leaf-nam.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://leaf-nam.github.io/apple-touch-icon.png><link rel=mask-icon href=https://leaf-nam.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=ko href=https://leaf-nam.github.io/cote/codetree_medusa_and_warriors/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-9PNFP00SSG"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9PNFP00SSG")}</script><meta property="og:url" content="https://leaf-nam.github.io/cote/codetree_medusa_and_warriors/"><meta property="og:site_name" content="봄을 기다리는 낙엽"><meta property="og:title" content="[Java]코드트리 메두사와 전사들 문제 해설"><meta property="og:description" content="코드트리 메두사와 전사들 문제에 대한 해설입니다."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="cote"><meta property="article:published_time" content="2024-12-21T10:01:55+09:00"><meta property="article:modified_time" content="2024-12-21T10:01:55+09:00"><meta property="article:tag" content="Codingtest"><meta property="article:tag" content="Codetree"><meta property="article:tag" content="Implementation"><meta property="article:tag" content="BFS"><meta property="article:tag" content="Search"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Java]코드트리 메두사와 전사들 문제 해설"><meta name=twitter:description content="코드트리 메두사와 전사들 문제에 대한 해설입니다."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"코딩테스트","item":"https://leaf-nam.github.io/cote/"},{"@type":"ListItem","position":2,"name":"[Java]코드트리 메두사와 전사들 문제 해설","item":"https://leaf-nam.github.io/cote/codetree_medusa_and_warriors/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Java]코드트리 메두사와 전사들 문제 해설","name":"[Java]코드트리 메두사와 전사들 문제 해설","description":"코드트리 메두사와 전사들 문제에 대한 해설입니다.","keywords":["codingtest","codetree","implementation","bfs","search"],"articleBody":"출처 메두사와 전사들 접근 복잡한 문제인만큼 구현하면서 순차적으로 처리해야 할 과정이 많은데, 이에 필요한 알고리즘을 정리해보면 다음과 같습니다.\n메두사의 이동경로 구현 BFS + 경로 역추적 시선 생성 배열 탐색 구현 병사 이동 및 공격 배열 탐색 구현 알고리즘 자체는 어렵지 않으나, 배열 탐색을 구현하는 과정이 복잡합니다.\n메두사 이동경로 구현(BFS) 메두사가 이동하는 과정에 장애물이 있기 때문에, BFS를 통해 미로를 탐색하는 최단경로를 구해야 합니다.\n또한, 이동경로를 다시 돌면서 병사들과의 상호작용을 확인하기 위해 이러한 경로를 별도 배열에 저장해야 합니다.\n이는 다음과 같이 BFS시에 이전 노드 정보를 함께 저장하여 LinkedList 형태로 구현할 수 있습니다.\n이를 코드로 다음과 같이 구현할 수 있습니다.\n/* 생략 */ // BFS + 이전노드 탐색용 static class Node { int r; int c; Node before; public Node(int r, int c, Node node) { this.r = r; this.c = c; this.before = node; } } // BFS로 메두사 이동 최단경로 구하기 + 리스트로 경로 반환 static List\u003cint[]\u003e bfs() { Queue\u003cNode\u003e q = new ArrayDeque\u003c\u003e(); boolean[][] visited = new boolean[N][N]; q.offer(new Node(s[0], s[1], null)); visited[s[0]][s[1]] = true; while(!q.isEmpty()) { Node now = q.poll(); // 도착하면 배열 생성한 뒤, 역순으로 배열에 추가 후 반환 if (now.r == e[0] \u0026\u0026 now.c == e[1]) { List\u003cint[]\u003e ret = new ArrayList\u003c\u003e(); while (now != null) { ret.add(new int[]{now.r, now.c}); now = now.before; } return ret; } // 상하좌우로 이동 for (int i = 0; i \u003c 4; i++) { int nr = now.r + dr[i]; int nc = now.c + dc[i]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N || visited[nr][nc] || town[nr][nc] == 1) continue; visited[nr][nc] = true; q.offer(new Node(nr, nc, now)); } } // 도착하지 못하면 null 반환 return null; } /* 생략 */ 시선 생성 구현(배열 탐색) 기본 시선 생성하기\n메두사의 시선은 상하좌우로 움직일 수 있습니다.\n해당 시선에서 대각선 방향으로 모든 시선이 채워지게 됩니다.\n다음과 같이 각 시선 방향을 따라가면서 양쪽 대각선으로 뻗어나가는 식으로 구현합니다.\n시선을 처리하는 로직만 코드로 확인해보면 다음과 같습니다.\n// 시선 생성 static void see(int[] now) { /* 생략 */ // 4방향 시선 이동 for (int d = 0; d \u003c 4; d++) { int[][] temp = new int[N][N]; for (int i = 0; i \u003c N; i++) Arrays.fill(temp[i], 0); // 4방향 시선 확인 int cur = getSight(now, temp, d); /* 생략 */ } } // 상하좌우 -\u003e 대각선 확인을 위한 배열 static int[][] dir = {{7, 1}, {3, 5}, {5, 7}, {1, 3}}; // 8방향 미리 지정 static int[] dr3 = {-1, -1, 0, 1, 1, 1, 0, -1}; static int[] dc3 = {0, 1, 1, 1, 0, -1, -1, -1}; // 시선 배열 채우기 static int getSight(int[] now, int[][] sight, int d) { int r = now[0], c = now[1], cnt = 0; boolean hide = false; // 최초 위치에서 대각선 확인(대각선 확인할때는 위에서 정의한 dir 배열 활용) cnt += seeDiagonal(now, sight, dir[d], d); while (true) { int nr = r + dr[d], nc = c + dc[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 1칸씩 시선 방향으로 이동하면서 대각선 확인 cnt += seeDiagonal(new int[] {nr, nc}, sight, dir[d], d); // 처음으로 병사 등장하기 이전에는 1로 채우기(시선 표시) if (!hide) sight[nr][nc] = 1; /* 생략 */ r = nr; c = nc; } return cnt; } // 대각선 확인하기 static int seeDiagonal(int[] now, int[][] sight, int[] ds, int d) { int cnt = 0; // 주어진 방향으로 뻗어나가기 for (int dd : ds) { int r = now[0], c = now[1]; while (true) { int nr = r + dr3[dd], nc = c + dc3[dd]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; /* 생략 */ // 해당 위치 1로 채우기(시선 표시) sight[nr][nc] = 1; r = nr; c = nc; } } return cnt; } 병사 돌로 만들기\n이렇게 시선을 채우는 중간에 병사가 있다면 해당 위치를 돌로 만듭니다.\n또한, 메두사의 시선과 같은 방향으로는 이후 메두사의 시선이 들어오지 못하도록 처리합니다.\n코드 구현 과정에서는 메두사의 시선이 어떤 방향에서 들어왔는지 별도 파라미터로 전달이 필요합니다.\n마지막으로 각 방향에서 돌로 만든 병사의 최댓값을 확인해서 최대인 방향으로 시선을 처리합니다.\n그림으로 표현하면 다음과 같습니다.\n전체 과정을 코드로 구현해보면 다음과 같습니다. // 시선 생성 static void see(int[] now) { // 좌표별 병사 숫자를 빠르게 세기 위해 좌표별 병사 숫자 미리 표기 for (int i = 0; i \u003c N; i++) Arrays.fill(town[i], 0); for (int[] warrior : warriors) town[warrior[0]][warrior[1]]++; int total = 0; // 시선에서 보이는 병사 최댓값 저장 for (int d = 0; d \u003c 4; d++) { int[][] temp = new int[N][N]; for (int i = 0; i \u003c N; i++) Arrays.fill(temp[i], 0); // 현재 방향에서 보이는 총 병사 숫자 확인 int cur = getSight(now, temp, d); // 현재 방향이 최대일때만 갱신 if (total \u003c cur) { sight = temp; total = cur; } } } static int[][] dir = {{7, 1}, {3, 5}, {5, 7}, {1, 3}}; static int[] dr3 = {-1, -1, 0, 1, 1, 1, 0, -1}; static int[] dc3 = {0, 1, 1, 1, 0, -1, -1, -1}; // 상하좌우 배열과 대각선 배열의 방향을 맞추기 위함 static int[] changeDir = {0, 4, 6, 2}; // 시선 배열 채우기 + 각 방향에서 볼 수 있는 병사 반환 static int getSight(int[] now, int[][] sight, int d) { int r = now[0], c = now[1], cnt = 0; boolean hide = false; // 최초 위치에서 대각선 확인 cnt += seeDiagonal(now, sight, dir[d], d); // 시선 방향으로 뻗어나가기 while (true) { int nr = r + dr[d], nc = c + dc[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; cnt += seeDiagonal(new int[] {nr, nc}, sight, dir[d], d); // 처음으로 병사 등장하기 이전에만 1로 채우기(이후에는 돌이 가리므로 채우지 않음) if (!hide) sight[nr][nc] = 1; // 처음으로 병사 등장하는 시점 확인 if (!hide \u0026\u0026 town[nr][nc] != 0) { // 해당 위치에서 돌로 만들기 // 원래 상하좌우는 0-\u003e1-\u003e2-\u003e3 이고, 8방향 탐색에서는 0-\u003e4-\u003e6-\u003e2 방향전환 필요 makeStone(new int[] {nr, nc}, sight, new int[] {changeDir[d]}); // 이후는 가려져서 1을 채우지 않음 hide = true; // 병사 숫자 세기 cnt += town[nr][nc]; } r = nr; c = nc; } return cnt; } static int seeDiagonal(int[] now, int[][] sight, int[] ds, int d) { int cnt = 0; for (int dd : ds) { int r = now[0], c = now[1]; while (true) { int nr = r + dr3[dd], nc = c + dc3[dd]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 이미 가려진 위치가 있으면(2이면) 탐색 종료 if (sight[nr][nc] == 2) break; // 병사 있으면 해당위치에서 돌로 만들고 탐색 종료 if (town[nr][nc] != 0) { cnt += town[nr][nc]; // 현재 시선방향(상하좌우) 변환 + 현재 대각선 이동방향 파라미터 전달 makeStone(new int[]{nr, nc}, sight, new int[] {changeDir[d], dd}); r = nr; c = nc; break; } sight[nr][nc] = 1; r = nr; c = nc; } } return cnt; } // 돌로 만들기 static void makeStone(int[] now, int[][] sight, int[] ds) { // 해당 위치 -2로 변경 sight[now[0]][now[1]] = -2; // 주어진 방향으로 뻗어나가면서 가리기 for (int d : ds) { int r = now[0], c = now[1]; while (true) { int nr = r + dr3[d], nc = c + dc3[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 해당 위치 2로 변경(가림 표시) sight[nr][nc] = 2; r = nr; c = nc; } } } 메두사의 시선을 처리하는게 개인적으로 가장 복잡했던 것 같습니다.\n병사 이동 및 공격 구현(배열 탐색) 병사들은 총 2번 이동하며, 2회의 움직임이 다르기 때문에 별도로 구현해야 합니다.\n매 회마다 병사가 이동한 횟수, 돌이 된 횟수, 메두사를 공격한 횟수를 세어 출력합니다.\n메두사를 공격했을 때에는 병사를 삭제하는 것에 주의합니다.\n비교적 단순한 구현이어서 코드가 필요하신 분들은 아래 풀이에서 확인하시면 됩니다.\n풀이 import java.util.*; import java.io.*; public class Main { static int N, M; static int[] s, e, answer; static int[][] town, sight; static List\u003cint[]\u003e warriors; static int[] dr = {-1, 1, 0, 0}, dr2 = {0, 0, -1, 1}; static int[] dc = {0, 0, -1, 1}, dc2 = {-1, 1, 0, 0}; public static void main(String[] args) throws IOException { // 입력 받기 init(); // 메두사 이동경로 생성 List\u003cint[]\u003e route = bfs(); // 도달 불가능 예외처리 if (route == null) { System.out.println(-1); System.exit(0); } StringBuilder sb = new StringBuilder(); // 메두사 이동경로대로 진행 for (int i = route.size() - 2; i \u003e= 1; i--) { int[] r = route.get(i); answer = new int[3]; // 해당 위치 병사 삭제 killWarriors(r); // 시선 생성 see(r); // 병사 이동 moveWarriors(r); sb.append(answer[0] + \" \" + answer[1] + \" \" + answer[2] + \"\\n\"); } System.out.print(sb); System.out.println(0); } // 시선 생성 static void see(int[] now) { // town에 병사 위치 찍어놓기 for (int i = 0; i \u003c N; i++) Arrays.fill(town[i], 0); for (int[] warrior : warriors) town[warrior[0]][warrior[1]]++; // 4방향 시선 이동 int total = 0; // 시선에서 보이는 병사 최댓값 저장 for (int d = 0; d \u003c 4; d++) { int[][] temp = new int[N][N]; for (int i = 0; i \u003c N; i++) Arrays.fill(temp[i], 0); // 현재 방향에서 보이는 총 병사 숫자 확인 int cur = getSight(now, temp, d); // 현재 방향이 최대일때만 갱신 if (total \u003c cur) { sight = temp; total = cur; } } } // 상하좌우 -\u003e 대각선 확인 및 변환을 위한 배열 static int[][] dir = {{7, 1}, {3, 5}, {5, 7}, {1, 3}}; static int[] changeDir = {0, 4, 6, 2}; // 8방향 미리 지정 static int[] dr3 = {-1, -1, 0, 1, 1, 1, 0, -1}; static int[] dc3 = {0, 1, 1, 1, 0, -1, -1, -1}; // 시선 배열 채우기 + 각 방향에서 볼 수 있는 병사 반환 static int getSight(int[] now, int[][] sight, int d) { int r = now[0], c = now[1], cnt = 0; boolean hide = false; // 최초 위치에서 대각선 확인 cnt += seeDiagonal(now, sight, dir[d], d); while (true) { int nr = r + dr[d], nc = c + dc[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 1칸씩 시선 방향으로 이동하면서 대각선 확인 cnt += seeDiagonal(new int[] {nr, nc}, sight, dir[d], d); // 처음으로 병사 등장하기 이전에는 1로 채우기(시선 표시) if (!hide) sight[nr][nc] = 1; // 처음으로 병사 등장하는 시점 확인 if (!hide \u0026\u0026 town[nr][nc] != 0) { // 해당 위치에서 돌로 만들기 makeStone(new int[] {nr, nc}, sight, new int[] {changeDir[d]}); hide = true; // 병사 숫자 세기 cnt += town[nr][nc]; } r = nr; c = nc; } return cnt; } // 대각선 확인하기 static int seeDiagonal(int[] now, int[][] sight, int[] ds, int d) { int cnt = 0; // 주어진 방향으로 뻗어나가면서 병사 있는지 확인 for (int dd : ds) { int r = now[0], c = now[1]; while (true) { int nr = r + dr3[dd], nc = c + dc3[dd]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 이미 가려진 위치가 있으면(2이면) 탐색 종료 if (sight[nr][nc] == 2) break; // 병사 있으면 해당위치에서 돌로 만들고 탐색 종료 if (town[nr][nc] != 0) { cnt += town[nr][nc]; makeStone(new int[]{nr, nc}, sight, new int[] {changeDir[d], dd}); r = nr; c = nc; break; } // 해당 위치 1로 채우기(시선 표시) sight[nr][nc] = 1; r = nr; c = nc; } } return cnt; } // 돌로 만들기 static void makeStone(int[] now, int[][] sight, int[] ds) { // 해당 위치 -2로 변경 sight[now[0]][now[1]] = -2; // 주어진 방향으로 뻗어나가면서 가리기 for (int d : ds) { int r = now[0], c = now[1]; while (true) { int nr = r + dr3[d], nc = c + dc3[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N) break; // 해당 위치 2로 변경(가림 표시) sight[nr][nc] = 2; r = nr; c = nc; } } } // 병사 이동하기 static void moveWarriors(int[] now) { loop: // 중간에 병사를 제거하므로 뒤에서부터 확인 for (int i = warriors.size() - 1; i \u003e= 0; i--) { int[] warrior = warriors.get(i); // 해당 위치가 이미 돌이면 돌이 된 병사 숫자에 추가 if (sight[warrior[0]][warrior[1]] == -2) { answer[1]++; continue; } // 상하좌우로 메두사 방향으로 이동 for (int j = 0; j \u003c 4; j++) { int nr = warrior[0] + dr[j]; int nc = warrior[1] + dc[j]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N || sight[nr][nc] == 1 || sight[nr][nc] == -2) continue; // 메두사와 가까워지는 방향으로만 이동 if (Math.abs(now[0] - warrior[0]) + Math.abs(now[1] - warrior[1]) \u003c= Math.abs(now[0] - nr) + Math.abs(now[1] - nc)) continue; warrior[0] = nr; warrior[1] = nc; // 이동거리에 추가 answer[0]++; break; } // 해당위치에 메두사 있으면 병사 제거 후 공격 횟수 추가 if (warrior[0] == now[0] \u0026\u0026 warrior[1] == now[1]) { warriors.remove(i); answer[2]++; continue loop; } // 좌우상하로 메두사 방향으로 이동(방향만 다르고 로직 동일) for (int j = 0; j \u003c 4; j++) { int nr = warrior[0] + dr2[j]; int nc = warrior[1] + dc2[j]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N || sight[nr][nc] == 1 || sight[nr][nc] == -2) continue; if (Math.abs(now[0] - warrior[0]) + Math.abs(now[1] - warrior[1]) \u003c= Math.abs(now[0] - nr) + Math.abs(now[1] - nc)) continue; warrior[0] = nr; warrior[1] = nc; answer[0]++; break; } // 해당위치에 메두사 있으면 병사 제거 후 공격 횟수 추가 if (warrior[0] == now[0] \u0026\u0026 warrior[1] == now[1]) { warriors.remove(i); answer[2]++; } } } // 메두사 이동 후 해당위치 병사 삭제 static void killWarriors(int[] now) { for (int i = warriors.size() - 1; i \u003e= 0; i--) { if (warriors.get(i)[0] == now[0] \u0026\u0026 warriors.get(i)[1] == now[1]) { warriors.remove(i); } } } // BFS + 이전노드 탐색용 static class Node { int r; int c; Node before; public Node(int r, int c, Node node) { this.r = r; this.c = c; this.before = node; } } // BFS로 메두사 이동 최단경로 구하기 static List\u003cint[]\u003e bfs() { Queue\u003cNode\u003e q = new ArrayDeque\u003c\u003e(); boolean[][] visited = new boolean[N][N]; q.offer(new Node(s[0], s[1], null)); visited[s[0]][s[1]] = true; while(!q.isEmpty()) { Node now = q.poll(); // 도착하면 역순으로 이동 배열에 추가 후 반환 if (now.r == e[0] \u0026\u0026 now.c == e[1]) { List\u003cint[]\u003e ret = new ArrayList\u003c\u003e(); while (now != null) { ret.add(new int[]{now.r, now.c}); now = now.before; } return ret; } // 상하좌우로 이동 for (int i = 0; i \u003c 4; i++) { int nr = now.r + dr[i]; int nc = now.c + dc[i]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N || visited[nr][nc] || town[nr][nc] == 1) continue; visited[nr][nc] = true; q.offer(new Node(nr, nc, now)); } } // 도착하지 못하면 null 반환 return null; } // 입력 받기 static void init() throws IOException { BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); StringTokenizer st = new StringTokenizer(br.readLine()); N = Integer.parseInt(st.nextToken()); M = Integer.parseInt(st.nextToken()); st = new StringTokenizer(br.readLine()); s = new int[2]; e = new int[2]; s[0] = Integer.parseInt(st.nextToken()); s[1] = Integer.parseInt(st.nextToken()); e[0] = Integer.parseInt(st.nextToken()); e[1] = Integer.parseInt(st.nextToken()); st = new StringTokenizer(br.readLine()); warriors = new ArrayList\u003c\u003e(); for (int i = 0; i \u003c M; i++) { warriors.add(new int[] {Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken())}); } town = new int[N][N]; for (int i = 0; i \u003c N; i++) { st = new StringTokenizer(br.readLine()); for (int j = 0; j \u003c N; j++) town[i][j] = Integer.parseInt(st.nextToken()); } } } 결과 소요시간 : 반나절 + a 리뷰 오랜만에 벽을 느껴본 구현문제였습니다.\n그래도 포기하지 않고 풀어내서 최소한의 자존심은 지킨 것 같아 다행입니다..\n처음에는 시선 처리를 BFS로 구현했는데, 51%에서 시간초과가 발생했습니다.1\n매 시선처리마다 전체 지도를 모두 돌아보기 때문에 시간초과가 발생한 것 같습니다. 메두사가 이동할 수 있는 전체 경로의 길이는 최대 N^2입니다. 4방향 시선을 저장하기 위해 각 칸을 초기화하면 4 X N^2 = N^2입니다. 4방향을 전체 탐색하면 결국 모든 칸을 탐색하므로 N^2입니다. 따라서, 전체 시간복잡도는 O(N^6) = 15,625,000,000입니다. 정답 풀이에서는 돌이 된 병사가 시선이 들어오지 못하게 직선으로 가려주어 전체 지도를 탐색하지 않도록 최적화했습니다. References URL 게시일자 방문일자 작성자 실패한 시선처리 코드는 다음과 같습니다.\n메두사 위치부터 BFS로 시선들을 채우다가, 병사를 만나면 메두사와 멀어지는 방향으로 가려진 시선을 채우도록 구현했습니다.\n// 시선 처리 static void see(int[] now) { int total = 0; for (int d = 0; d \u003c 4; d++) { int[][] temp = new int[N][N]; int cur = getSight(now, temp, false, getDir(d)); if (total \u003c cur) { sight = temp; total = cur; } } } // 방향 + 대각선 방향으로 BFS static int[] getDir(int d) { switch (d) { case 0 : return new int[]{7, 0, 1}; case 1 : return new int[]{3, 4, 5}; case 2 : return new int[]{5, 6, 7}; case 3 : return new int[]{1, 2, 3}; } throw new RuntimeException(); } // 메두사와 병사가 멀어지는 방향으로만 BFS static int[] changeDir(int[] medusa, int[] warrior, int[] ds) { if (medusa[0] == warrior[0]) { if (medusa[1] \u003e warrior[1]) return new int[] {6}; else return new int[] {2}; } if (medusa[1] == warrior[1]) { if (medusa[0] \u003e warrior[0]) return new int[] {0}; else return new int[] {4}; } int[] ret = {-1, -1, -1}; int idx = 0; for (int d : ds) { int nr = warrior[0] + dr3[d]; int nc = warrior[1] + dc3[d]; if (Math.abs(nr - medusa[0]) \u003c Math.abs(warrior[0] - medusa[0])) continue; if (Math.abs(nc - medusa[1]) \u003c Math.abs(warrior[1] - medusa[1])) continue; ret[idx++] = d; } return ret; } // 병사일때는 2로 채우고, 메두사일때는 1로 채움 static int getSight(int[] now, int[][] sight, boolean hide, int[] ds) { Queue\u003cint[]\u003e q = new ArrayDeque(); q.offer(now); int cnt = 0; if (hide) sight[now[0]][now[1]] = 0; loop2: while (!q.isEmpty()) { int[] nn = q.poll(); if (sight[nn[0]][nn[1]] == -1 || sight[nn[0]][nn[1]] == -2) continue; sight[nn[0]][nn[1]] = hide? -1 : 1; // 메두사일 때 병사를 만나면 해당위치에서 병사로 BFS 시작 if (!hide) { for (int i = 0; i \u003c warriors.size(); i++) { if (warriors.get(i)[0] == nn[0] \u0026\u0026 warriors.get(i)[1] == nn[1]) { sight[nn[0]][nn[1]] = -2; cnt++; } } if (sight[nn[0]][nn[1]] == -2) { getSight(nn, sight, true, changeDir(now, nn, ds)); continue; } } for (int d : ds) { if (d == -1) continue; int nr = nn[0] + dr3[d]; int nc = nn[1] + dc3[d]; if (nr \u003c 0 || nr \u003e= N || nc \u003c 0 || nc \u003e= N || sight[nr][nc] != 0) continue; q.offer(new int[] {nr, nc}); } } sight[now[0]][now[1]] = hide? -2 : 2; return cnt; } ↩︎ ","wordCount":"3020","inLanguage":"ko","datePublished":"2024-12-21T10:01:55+09:00","dateModified":"2024-12-21T10:01:55+09:00","author":{"@type":"Person","name":"Leaf"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://leaf-nam.github.io/cote/codetree_medusa_and_warriors/"},"publisher":{"@type":"Organization","name":"봄을 기다리는 낙엽","logo":{"@type":"ImageObject","url":"https://leaf-nam.github.io/favicon.svg"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://leaf-nam.github.io/ accesskey=h title="LEAF (Alt + H)">LEAF</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://leaf-nam.github.io/search/ title=검색><span>검색</span></a></li><li><a href=https://leaf-nam.github.io/posts/ title=게시글><span>게시글</span></a></li><li><a href=https://leaf-nam.github.io/tips/ title=미세팁><span>미세팁</span></a></li><li><a href=https://leaf-nam.github.io/archives/ title=아카이브><span>아카이브</span></a></li><li><a href=https://leaf-nam.github.io/cote/ title=알고리즘><span>알고리즘</span></a></li><li><a href=https://leaf-nam.github.io/review/ title="책 리뷰"><span>책 리뷰</span></a></li><li><a href=https://leaf-nam.github.io/categories/ title=카테고리><span>카테고리</span></a></li><li><a href=https://leaf-nam.github.io/tags/ title=태그><span>태그</span></a></li><li><a href=https://github.com/leaf-nam/blog title=Git><span>Git</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://leaf-nam.github.io/>홈</a>&nbsp;»&nbsp;<a href=https://leaf-nam.github.io/cote/>코딩테스트</a></div><h1 class="post-title entry-hint-parent">[Java]코드트리 메두사와 전사들 문제 해설</h1><div class=post-description>코드트리 메두사와 전사들 문제에 대한 해설입니다.</div><div class=post-meta><span title='2024-12-21 10:01:55 +0900 KST'>2024. 12. 21.</span>&nbsp;·&nbsp;15 분&nbsp;·&nbsp;3020 단어&nbsp;·&nbsp;Leaf&nbsp;|&nbsp;<a href=https://github.com/leaf-nam/blog/blob/main/content//cote/codetree_medusa_and_warriors/index.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>목차</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#출처>출처</a></li><li><a href=#접근>접근</a><ul><li><a href=#메두사-이동경로-구현bfs>메두사 이동경로 구현(BFS)</a></li><li><a href=#시선-생성-구현배열-탐색>시선 생성 구현(배열 탐색)</a></li><li><a href=#병사-이동-및-공격-구현배열-탐색>병사 이동 및 공격 구현(배열 탐색)</a></li></ul></li><li><a href=#풀이>풀이</a></li><li><a href=#결과>결과</a></li><li><a href=#리뷰>리뷰</a></li><li><a href=#references>References</a></li></ul></nav></div></details></div><div class=post-content><h2 id=출처>출처<a hidden class=anchor aria-hidden=true href=#출처>#</a></h2><ul><li><a href="https://www.codetree.ai/training-field/frequent-problems/problems/medusa-and-warriors/description?page=1&amp;pageSize=10">메두사와 전사들</a></li></ul><h2 id=접근>접근<a hidden class=anchor aria-hidden=true href=#접근>#</a></h2><p>복잡한 문제인만큼 구현하면서 순차적으로 처리해야 할 과정이 많은데, 이에 필요한 알고리즘을 정리해보면 다음과 같습니다.</p><ol><li><strong>메두사의 이동경로 구현</strong><ul><li>BFS + 경로 역추적</li></ul></li><li><strong>시선 생성</strong><ul><li>배열 탐색 구현</li></ul></li><li><strong>병사 이동 및 공격</strong><ul><li>배열 탐색 구현</li></ul></li></ol><blockquote><p>알고리즘 자체는 어렵지 않으나, 배열 탐색을 구현하는 과정이 복잡합니다.</p></blockquote><h3 id=메두사-이동경로-구현bfs>메두사 이동경로 구현(BFS)<a hidden class=anchor aria-hidden=true href=#메두사-이동경로-구현bfs>#</a></h3><ul><li><p>메두사가 이동하는 과정에 장애물이 있기 때문에, <code>BFS</code>를 통해 <strong>미로를 탐색하는 최단경로</strong>를 구해야 합니다.</p></li><li><p>또한, 이동경로를 다시 돌면서 병사들과의 상호작용을 확인하기 위해 이러한 경로를 별도 배열에 저장해야 합니다.</p></li><li><p>이는 다음과 같이 <code>BFS</code>시에 이전 노드 정보를 함께 저장하여 <code>LinkedList</code> 형태로 구현할 수 있습니다.</p></li></ul><p><img alt="BFS 노드정보 저장" loading=lazy src=/cote/codetree_medusa_and_warriors/bfs_node.png></p><ul><li><p>이를 코드로 다음과 같이 구현할 수 있습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/* 생략 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// BFS + 이전노드 탐색용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>Node</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>c</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>before</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=nf>Node</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>c</span><span class=p>,</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>node</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>before</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// BFS로 메두사 이동 최단경로 구하기 + 리스트로 경로 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=nf>bfs</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Node</span><span class=o>&gt;</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>boolean</span><span class=o>[][]</span><span class=w> </span><span class=n>visited</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>boolean</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>s</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>));</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>visited</span><span class=o>[</span><span class=n>s</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>s</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Node</span><span class=w> </span><span class=n>now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 도착하면 배열 생성한 뒤, 역순으로 배열에 추가 후 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>e</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>e</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>now</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>ret</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=p>,</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>before</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 상하좌우로 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>visited</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>visited</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>,</span><span class=w> </span><span class=n>now</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 도착하지 못하면 null 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=cm>/* 생략 */</span><span class=w>
</span></span></span></code></pre></div></li></ul><h3 id=시선-생성-구현배열-탐색>시선 생성 구현(배열 탐색)<a hidden class=anchor aria-hidden=true href=#시선-생성-구현배열-탐색>#</a></h3><p><strong>기본 시선 생성하기</strong></p><ul><li><p>메두사의 시선은 상하좌우로 움직일 수 있습니다.</p></li><li><p>해당 시선에서 대각선 방향으로 모든 시선이 채워지게 됩니다.</p></li><li><p>다음과 같이 각 시선 방향을 따라가면서 양쪽 대각선으로 뻗어나가는 식으로 구현합니다.</p></li></ul><p><img alt="시선 처리 1" loading=lazy src=/cote/codetree_medusa_and_warriors/sight1.png></p><ul><li><p>시선을 처리하는 로직만 코드로 확인해보면 다음과 같습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>  </span><span class=c1>// 시선 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>see</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=cm>/* 생략 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c1>// 4방향 시선 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>fill</span><span class=p>(</span><span class=n>temp</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c1>// 4방향 시선 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=kt>int</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getSight</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=cm>/* 생략 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// 상하좌우 -&gt; 대각선 확인을 위한 배열</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{{</span><span class=n>7</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>7</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>}};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// 8방향 미리 지정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dr3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dc3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// 시선 배열 채우기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>getSight</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kt>boolean</span><span class=w> </span><span class=n>hide</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c1>// 최초 위치에서 대각선 확인(대각선 확인할때는 위에서 정의한 dir 배열 활용)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c1>// 1칸씩 시선 방향으로 이동하면서 대각선 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c1>// 처음으로 병사 등장하기 이전에는 1로 채우기(시선 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=p>)</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=cm>/* 생략 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=c1>// 대각선 확인하기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>seeDiagonal</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=kt>int</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c1>// 주어진 방향으로 뻗어나가기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>dd</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=cm>/* 생략 */</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=c1>// 해당 위치 1로 채우기(시선 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>              </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div></li></ul><p><strong>병사 돌로 만들기</strong></p><ul><li><p>이렇게 시선을 채우는 중간에 병사가 있다면 해당 위치를 돌로 만듭니다.</p></li><li><p>또한, <strong>메두사의 시선과 같은 방향</strong>으로는 이후 메두사의 시선이 들어오지 못하도록 처리합니다.</p></li></ul><blockquote><p>코드 구현 과정에서는 메두사의 시선이 어떤 방향에서 들어왔는지 별도 파라미터로 전달이 필요합니다.</p></blockquote><ul><li><p>마지막으로 각 방향에서 돌로 만든 병사의 최댓값을 확인해서 최대인 방향으로 시선을 처리합니다.</p></li><li><p>그림으로 표현하면 다음과 같습니다.</p></li></ul><p><img alt="시선 처리 2" loading=lazy src=/cote/codetree_medusa_and_warriors/sight2.png></p><ul><li>전체 과정을 코드로 구현해보면 다음과 같습니다.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=w>    </span><span class=c1>// 시선 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>see</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 좌표별 병사 숫자를 빠르게 세기 위해 좌표별 병사 숫자 미리 표기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>fill</span><span class=p>(</span><span class=n>town</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>warrior</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>warriors</span><span class=p>)</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=c1>// 시선에서 보이는 병사 최댓값 저장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>fill</span><span class=p>(</span><span class=n>temp</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 현재 방향에서 보이는 총 병사 숫자 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getSight</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 현재 방향이 최대일때만 갱신</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>total</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{{</span><span class=n>7</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>7</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>}};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dr3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dc3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 상하좌우 배열과 대각선 배열의 방향을 맞추기 위함    </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>changeDir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 시선 배열 채우기 + 각 방향에서 볼 수 있는 병사 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>getSight</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>hide</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 최초 위치에서 대각선 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 시선 방향으로 뻗어나가기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 처음으로 병사 등장하기 이전에만 1로 채우기(이후에는 돌이 가리므로 채우지 않음)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=p>)</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 처음으로 병사 등장하는 시점 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 해당 위치에서 돌로 만들기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 원래 상하좌우는 0-&gt;1-&gt;2-&gt;3 이고, 8방향 탐색에서는 0-&gt;4-&gt;6-&gt;2 방향전환 필요</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>makeStone</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>changeDir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 이후는 가려져서 1을 채우지 않음</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>hide</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 병사 숫자 세기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>seeDiagonal</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>dd</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 이미 가려진 위치가 있으면(2이면) 탐색 종료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 병사 있으면 해당위치에서 돌로 만들고 탐색 종료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=c1>// 현재 시선방향(상하좌우) 변환 + 현재 대각선 이동방향 파라미터 전달 </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>makeStone</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>changeDir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>dd</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 돌로 만들기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>makeStone</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 해당 위치 -2로 변경</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sight</span><span class=o>[</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>		    
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주어진 방향으로 뻗어나가면서 가리기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 해당 위치 2로 변경(가림 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><blockquote><p>메두사의 시선을 처리하는게 개인적으로 가장 복잡했던 것 같습니다.</p></blockquote><h3 id=병사-이동-및-공격-구현배열-탐색>병사 이동 및 공격 구현(배열 탐색)<a hidden class=anchor aria-hidden=true href=#병사-이동-및-공격-구현배열-탐색>#</a></h3><ul><li><p>병사들은 총 2번 이동하며, 2회의 움직임이 다르기 때문에 별도로 구현해야 합니다.</p></li><li><p>매 회마다 병사가 이동한 횟수, 돌이 된 횟수, 메두사를 공격한 횟수를 세어 출력합니다.</p></li><li><p>메두사를 공격했을 때에는 <strong>병사를 삭제하는 것에 주의</strong>합니다.</p></li></ul><blockquote><p>비교적 단순한 구현이어서 코드가 필요하신 분들은 아래 풀이에서 확인하시면 됩니다.</p></blockquote><h2 id=풀이>풀이<a hidden class=anchor aria-hidden=true href=#풀이>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span><span class=w> </span><span class=nn>java.util.*</span><span class=p>;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kn>import</span><span class=w> </span><span class=nn>java.io.*</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>Main</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>N</span><span class=p>,</span><span class=w> </span><span class=n>M</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>s</span><span class=p>,</span><span class=w> </span><span class=n>e</span><span class=p>,</span><span class=w> </span><span class=n>answer</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>town</span><span class=p>,</span><span class=w> </span><span class=n>sight</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=n>warriors</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>},</span><span class=w> </span><span class=n>dr2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>},</span><span class=w> </span><span class=n>dc2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>public</span><span class=w> </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>main</span><span class=p>(</span><span class=n>String</span><span class=o>[]</span><span class=w> </span><span class=n>args</span><span class=p>)</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 입력 받기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>init</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>				
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 메두사 이동경로 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=n>route</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>bfs</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 도달 불가능 예외처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>route</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=o>-</span><span class=n>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>System</span><span class=p>.</span><span class=na>exit</span><span class=p>(</span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>StringBuilder</span><span class=w> </span><span class=n>sb</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StringBuilder</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 메두사 이동경로대로 진행</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>route</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>2</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>--</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>route</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>answer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>3</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 해당 위치 병사 삭제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>killWarriors</span><span class=p>(</span><span class=n>r</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 시선 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>see</span><span class=p>(</span><span class=n>r</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 병사 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>moveWarriors</span><span class=p>(</span><span class=n>r</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>sb</span><span class=p>.</span><span class=na>append</span><span class=p>(</span><span class=n>answer</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34; &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>answer</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34; &#34;</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>answer</span><span class=o>[</span><span class=n>2</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s>&#34;\n&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>print</span><span class=p>(</span><span class=n>sb</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>System</span><span class=p>.</span><span class=na>out</span><span class=p>.</span><span class=na>println</span><span class=p>(</span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 시선 생성</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>see</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// town에 병사 위치 찍어놓기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>fill</span><span class=p>(</span><span class=n>town</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>warrior</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>warriors</span><span class=p>)</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 4방향 시선 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=c1>// 시선에서 보이는 병사 최댓값 저장</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>Arrays</span><span class=p>.</span><span class=na>fill</span><span class=p>(</span><span class=n>temp</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 현재 방향에서 보이는 총 병사 숫자 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getSight</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 현재 방향이 최대일때만 갱신</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>total</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 상하좌우 -&gt; 대각선 확인 및 변환을 위한 배열</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{{</span><span class=n>7</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>7</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>}};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>changeDir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 8방향 미리 지정</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dr3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>dc3</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 시선 배열 채우기 + 각 방향에서 볼 수 있는 병사 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>getSight</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>boolean</span><span class=w> </span><span class=n>hide</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>false</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 최초 위치에서 대각선 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 1칸씩 시선 방향으로 이동하면서 대각선 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>seeDiagonal</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=n>dir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>d</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 처음으로 병사 등장하기 이전에는 1로 채우기(시선 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=p>)</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 처음으로 병사 등장하는 시점 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 해당 위치에서 돌로 만들기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>makeStone</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>changeDir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>hide</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 병사 숫자 세기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 대각선 확인하기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>seeDiagonal</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주어진 방향으로 뻗어나가면서 병사 있는지 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>dd</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>dd</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 이미 가려진 위치가 있으면(2이면) 탐색 종료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 병사 있으면 해당위치에서 돌로 만들고 탐색 종료</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>cnt</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>makeStone</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>},</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>changeDir</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>dd</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 해당 위치 1로 채우기(시선 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 돌로 만들기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>makeStone</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 해당 위치 -2로 변경</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sight</span><span class=o>[</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>;</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>		    
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 주어진 방향으로 뻗어나가면서 가리기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=kc>true</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=p>)</span><span class=w> </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 해당 위치 2로 변경(가림 표시)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 병사 이동하기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>moveWarriors</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>loop</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 중간에 병사를 제거하므로 뒤에서부터 확인</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>--</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>warrior</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 해당 위치가 이미 돌이면 돌이 된 병사 숫자에 추가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sight</span><span class=o>[</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>answer</span><span class=o>[</span><span class=n>1</span><span class=o>]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 상하좌우로 메두사 방향으로 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>j</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>j</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 메두사와 가까워지는 방향으로만 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>nr</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>nc</span><span class=p>))</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=c1>// 이동거리에 추가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>answer</span><span class=o>[</span><span class=n>0</span><span class=o>]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 해당위치에 메두사 있으면 병사 제거 후 공격 횟수 추가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>warriors</span><span class=p>.</span><span class=na>remove</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>answer</span><span class=o>[</span><span class=n>2</span><span class=o>]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=w> </span><span class=n>loop</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 좌우상하로 메두사 방향으로 이동(방향만 다르고 로직 동일)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr2</span><span class=o>[</span><span class=n>j</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc2</span><span class=o>[</span><span class=n>j</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>&lt;=</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>nr</span><span class=p>)</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>nc</span><span class=p>))</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nr</span><span class=p>;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nc</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>answer</span><span class=o>[</span><span class=n>0</span><span class=o>]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>break</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 해당위치에 메두사 있으면 병사 제거 후 공격 횟수 추가</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>warriors</span><span class=p>.</span><span class=na>remove</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>answer</span><span class=o>[</span><span class=n>2</span><span class=o>]++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 메두사 이동 후 해당위치 병사 삭제</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>killWarriors</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>size</span><span class=p>()</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>--</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>warriors</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>)</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>)</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>warriors</span><span class=p>.</span><span class=na>remove</span><span class=p>(</span><span class=n>i</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// BFS + 이전노드 탐색용</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kd>class</span> <span class=nc>Node</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>c</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Node</span><span class=w> </span><span class=n>before</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kd>public</span><span class=w> </span><span class=nf>Node</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>c</span><span class=p>,</span><span class=w> </span><span class=n>Node</span><span class=w> </span><span class=n>node</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>r</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>c</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>this</span><span class=p>.</span><span class=na>before</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>node</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// BFS로 메두사 이동 최단경로 구하기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=nf>bfs</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Node</span><span class=o>&gt;</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>boolean</span><span class=o>[][]</span><span class=w> </span><span class=n>visited</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>boolean</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>s</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=n>s</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=kc>null</span><span class=p>));</span><span class=w> 
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>visited</span><span class=o>[</span><span class=n>s</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>s</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>Node</span><span class=w> </span><span class=n>now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 도착하면 역순으로 이동 배열에 추가 후 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>e</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>e</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>List</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=n>now</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=kc>null</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>ret</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=p>,</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>now</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>before</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=c1>// 상하좌우로 이동</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>r</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>now</span><span class=p>.</span><span class=na>c</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>visited</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>visited</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kc>true</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>Node</span><span class=p>(</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>,</span><span class=w> </span><span class=n>now</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 도착하지 못하면 null 반환</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=kc>null</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=c1>// 입력 받기</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>init</span><span class=p>()</span><span class=w> </span><span class=kd>throws</span><span class=w> </span><span class=n>IOException</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>BufferedReader</span><span class=w> </span><span class=n>br</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>BufferedReader</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=n>InputStreamReader</span><span class=p>(</span><span class=n>System</span><span class=p>.</span><span class=na>in</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>StringTokenizer</span><span class=w> </span><span class=n>st</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StringTokenizer</span><span class=p>(</span><span class=n>br</span><span class=p>.</span><span class=na>readLine</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>N</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>M</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>st</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StringTokenizer</span><span class=p>(</span><span class=n>br</span><span class=p>.</span><span class=na>readLine</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>s</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>2</span><span class=o>]</span><span class=p>;</span><span class=w> </span><span class=n>e</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>2</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>s</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>s</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>e</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>e</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>st</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StringTokenizer</span><span class=p>(</span><span class=n>br</span><span class=p>.</span><span class=na>readLine</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>warriors</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayList</span><span class=o>&lt;&gt;</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>M</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>warriors</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>()),</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>())});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>town</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>st</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>StringTokenizer</span><span class=p>(</span><span class=n>br</span><span class=p>.</span><span class=na>readLine</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>N</span><span class=p>;</span><span class=w> </span><span class=n>j</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=n>town</span><span class=o>[</span><span class=n>i</span><span class=o>][</span><span class=n>j</span><span class=o>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>Integer</span><span class=p>.</span><span class=na>parseInt</span><span class=p>(</span><span class=n>st</span><span class=p>.</span><span class=na>nextToken</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div><h2 id=결과>결과<a hidden class=anchor aria-hidden=true href=#결과>#</a></h2><ul><li>소요시간 : 반나절 + a</li></ul><p><img alt=결과 loading=lazy src=/cote/codetree_medusa_and_warriors/result.png></p><h2 id=리뷰>리뷰<a hidden class=anchor aria-hidden=true href=#리뷰>#</a></h2><p>오랜만에 벽을 느껴본 구현문제였습니다.</p><blockquote><p>그래도 포기하지 않고 풀어내서 최소한의 자존심은 지킨 것 같아 다행입니다..</p></blockquote><p>처음에는 시선 처리를 <code>BFS</code>로 구현했는데, <code>51%</code>에서 시간초과가 발생했습니다.<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><ul><li>매 시선처리마다 <strong>전체 지도를 모두 돌아보기 때문에</strong> 시간초과가 발생한 것 같습니다.<ul><li>메두사가 이동할 수 있는 전체 경로의 길이는 최대 <code>N^2</code>입니다.</li><li>4방향 시선을 저장하기 위해 각 칸을 초기화하면 <code>4 X N^2 = N^2</code>입니다.</li><li>4방향을 전체 탐색하면 결국 모든 칸을 탐색하므로 <code>N^2</code>입니다.</li><li>따라서, 전체 시간복잡도는 <code>O(N^6) = 15,625,000,000</code>입니다.</li></ul></li><li>정답 풀이에서는 <strong>돌이 된 병사가 시선이 들어오지 못하게 직선으로 가려주어</strong> 전체 지도를 탐색하지 않도록 최적화했습니다.</li></ul><h2 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><table><thead><tr><th style=text-align:left>URL</th><th style=text-align:left>게시일자</th><th style=text-align:left>방문일자</th><th style=text-align:left>작성자</th></tr></thead><tbody></tbody></table><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>실패한 시선처리 코드는 다음과 같습니다.</p><blockquote><p>메두사 위치부터 <code>BFS</code>로 시선들을 채우다가, 병사를 만나면 <strong>메두사와 멀어지는 방향</strong>으로 가려진 시선을 채우도록 구현했습니다.</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// 시선 처리</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>static</span><span class=w> </span><span class=kt>void</span><span class=w> </span><span class=nf>see</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>4</span><span class=p>;</span><span class=w> </span><span class=n>d</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>temp</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[</span><span class=n>N</span><span class=o>][</span><span class=n>N</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>cur</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>getSight</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>temp</span><span class=p>,</span><span class=w> </span><span class=kc>false</span><span class=p>,</span><span class=w> </span><span class=n>getDir</span><span class=p>(</span><span class=n>d</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>total</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>cur</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>sight</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>temp</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>total</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cur</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 방향 + 대각선 방향으로 BFS </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=nf>getDir</span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>switch</span><span class=w> </span><span class=p>(</span><span class=n>d</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>7</span><span class=p>,</span><span class=w> </span><span class=n>0</span><span class=p>,</span><span class=w> </span><span class=n>1</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=n>1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>3</span><span class=p>,</span><span class=w> </span><span class=n>4</span><span class=p>,</span><span class=w> </span><span class=n>5</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=n>2</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>5</span><span class=p>,</span><span class=w> </span><span class=n>6</span><span class=p>,</span><span class=w> </span><span class=n>7</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>case</span><span class=w> </span><span class=n>3</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=n>2</span><span class=p>,</span><span class=w> </span><span class=n>3</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>throw</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>RuntimeException</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 메두사와 병사가 멀어지는 방향으로만 BFS</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=nf>changeDir</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>medusa</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>warrior</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>medusa</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>medusa</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>6</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>2</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>medusa</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>medusa</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>0</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>else</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>4</span><span class=p>};</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ret</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>,</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>};</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>idx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>medusa</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>warrior</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>medusa</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=p>))</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>nc</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>medusa</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>warrior</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>-</span><span class=w> </span><span class=n>medusa</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>))</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>ret</span><span class=o>[</span><span class=n>idx</span><span class=o>++]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>d</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>ret</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>// 병사일때는 2로 채우고, 메두사일때는 1로 채움</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=nf>getSight</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[][]</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kt>boolean</span><span class=w> </span><span class=n>hide</span><span class=p>,</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>Queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span><span class=w> </span><span class=n>q</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>new</span><span class=w> </span><span class=n>ArrayDeque</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=n>now</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>cnt</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>hide</span><span class=p>)</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>loop2</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=n>nn</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sight</span><span class=o>[</span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>sight</span><span class=o>[</span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hide</span><span class=o>?</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>1</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=c1>// 메두사일 때 병사를 만나면 해당위치에서 병사로 BFS 시작</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=o>!</span><span class=n>hide</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>size</span><span class=p>();</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>warriors</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>)</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>warriors</span><span class=p>.</span><span class=na>get</span><span class=p>(</span><span class=n>i</span><span class=p>)</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>sight</span><span class=o>[</span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                    </span><span class=n>cnt</span><span class=o>++</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>sight</span><span class=o>[</span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=n>getSight</span><span class=p>(</span><span class=n>nn</span><span class=p>,</span><span class=w> </span><span class=n>sight</span><span class=p>,</span><span class=w> </span><span class=kc>true</span><span class=p>,</span><span class=w> </span><span class=n>changeDir</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=w> </span><span class=n>nn</span><span class=p>,</span><span class=w> </span><span class=n>ds</span><span class=p>));</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>d</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>ds</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>d</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=o>-</span><span class=n>1</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nn</span><span class=o>[</span><span class=n>0</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dr3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kt>int</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nn</span><span class=o>[</span><span class=n>1</span><span class=o>]</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=n>dc3</span><span class=o>[</span><span class=n>d</span><span class=o>]</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>nr</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nr</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>0</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>nc</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=n>N</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=n>sight</span><span class=o>[</span><span class=n>nr</span><span class=o>][</span><span class=n>nc</span><span class=o>]</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=n>0</span><span class=p>)</span><span class=w> </span><span class=k>continue</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span><span class=w> </span><span class=kt>int</span><span class=o>[]</span><span class=w> </span><span class=p>{</span><span class=n>nr</span><span class=p>,</span><span class=w> </span><span class=n>nc</span><span class=p>});</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>sight</span><span class=o>[</span><span class=n>now</span><span class=o>[</span><span class=n>0</span><span class=o>]][</span><span class=n>now</span><span class=o>[</span><span class=n>1</span><span class=o>]]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>hide</span><span class=o>?</span><span class=w> </span><span class=o>-</span><span class=n>2</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=n>2</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>cnt</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></div>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://leaf-nam.github.io/tags/codingtest/>Codingtest</a></li><li><a href=https://leaf-nam.github.io/tags/codetree/>Codetree</a></li><li><a href=https://leaf-nam.github.io/tags/implementation/>Implementation</a></li><li><a href=https://leaf-nam.github.io/tags/bfs/>BFS</a></li><li><a href=https://leaf-nam.github.io/tags/search/>Search</a></li></ul><nav class=paginav><a class=prev href=https://leaf-nam.github.io/cote/programmers_62048/><span class=title>« 이전 페이지</span><br><span>[Java]Programmers 멀쩡한 사각형</span>
</a><a class=next href=https://leaf-nam.github.io/cote/programmers_67257/><span class=title>다음 페이지 »</span><br><span>[Java]Programmers 수식 최대화(2020 KAKAO Internship)</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on x" href="https://x.com/intent/tweet/?text=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4&amp;url=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f&amp;hashtags=codingtest%2ccodetree%2cimplementation%2cbfs%2csearch"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f&amp;title=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4&amp;summary=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4&amp;source=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f&title=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on whatsapp" href="https://api.whatsapp.com/send?text=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4%20-%20https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on telegram" href="https://telegram.me/share/url?text=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4&amp;url=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [Java]코드트리 메두사와 전사들 문제 해설 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%5bJava%5d%ec%bd%94%eb%93%9c%ed%8a%b8%eb%a6%ac%20%eb%a9%94%eb%91%90%ec%82%ac%ec%99%80%20%ec%a0%84%ec%82%ac%eb%93%a4%20%eb%ac%b8%ec%a0%9c%20%ed%95%b4%ec%84%a4&u=https%3a%2f%2fleaf-nam.github.io%2fcote%2fcodetree_medusa_and_warriors%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=leaf-nam/leaf-nam.github.io issue-term=title theme=boxy-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2025 <a href=https://leaf-nam.github.io/>봄을 기다리는 낙엽</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="복사";function s(){t.innerHTML="복사 완료!",setTimeout(()=>{t.innerHTML="복사"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>